configurations { tapestryTest }

dependencies {

    testImplementation ("ish.oncourse:types:$typesVersion") {
        //we should exclude cayenne-server from waCommon because the cayenne-server is not compatable to willow code.
        exclude group: 'org.apache.cayenne', module: 'cayenne-server'
    }

	testImplementation "org.apache.cayenne:cayenne-server:$cayenneVersion"
	testImplementation "org.apache.tapestry:tapestry-core:$tapestryVersion"
	testImplementation "org.apache.tapestry:tapestry-ioc:$tapestryVersion"
	testImplementation ("org.apache.tapestry:tapestry-test:$tapestryVersion") {
		exclude group: 'org.seleniumhq.selenium.server', module: 'selenium-server'
	}
	testImplementation 'org.apache.derby:derby:10.15.2.0'
	testImplementation 'commons-dbcp:commons-dbcp:1.4'
	testImplementation 'commons-pool:commons-pool:1.5.6'
	testImplementation 'commons-collections:commons-collections:3.2.1'
}

configurations {
	testFixtures {
		extendsFrom testRuntime
	}
}

task testJar(type: Jar) {
	from sourceSets.test.output
	classifier = 'test'
}

artifacts {
	testFixtures testJar
}
