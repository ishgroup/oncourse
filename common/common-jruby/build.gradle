buildscript {
    repositories {
        jcenter()
        mavenCentral()
    }
    dependencies {
        classpath group: 'com.github.jruby-gradle', name: 'jruby-gradle-war-plugin', version: '0.3.0'
        classpath group: 'com.github.jruby-gradle', name: 'jruby-gradle-jar-plugin', version: '0.3.0'
        classpath group: 'com.github.jruby-gradle', name: 'jruby-gradle-plugin', version: '0.3.0'
    }
}

apply plugin: 'com.github.jruby-gradle.jar'


dependencies {
    compile 'org.jruby:jruby-complete:1.7.20'
    gems group: 'rubygems', name: 'sass', version: '3.4.14'
    gems group: 'rubygems', name: 'compass', version: '1.0.3'
}

sourceSets {
    main {
        // generate some manifest files for lists of resources to find at runtime
        output.dir("$buildDir/gems")
    }
}

jar {
    jruby {
        // tell the plugin to pack a runnable jar (no bootstrap script)
        initScript library()

        gemDir '/gems'

        // Includes the default gems to the jar (can be omitted)
        defaultGems()

    }
}