<html t:type="pagestructure" title="literal:Profile"
	  xmlns:t="http://tapestry.apache.org/schema/tapestry_5_1_0.xsd" activeMenu="literal:m_profile">
	<h1> ${contact.givenName} ${contact.familyName}'s Profile  </h1>
	
	<div class="tabbable">
		<ul class="nav nav-pills">
			<li class="active"><a href="#profile-form" data-toggle="tab">Profile details</a></li>
			<li><a href="#password-form" data-toggle="tab">Change password</a></li>
		</ul>
		<div class="tab-content">
			<div id="profile-form" class="tab-pane active">
				<t:form t:id="profileForm">
					<t:errors banner="literal:Please correct the following mistakes:" class="literal:validation"/>
					
					<fieldset>	
					
						<p>
								<label for="email">Email<em title="${message:required}">*</em></label>
								<span class="${emailInputClass}">
											<t:textfield value="contact.emailAddress" class ="input-fixed" 
												clientId="emailaddress" t:id="email" />
								</span>
						</p>
						<p>
							<label for="street">Address<t:if test="contactFieldHelper.requireAddress"><em title="${message:required}">*</em></t:if></label>
							<span class="valid">
								<t:textfield value="contact.street" class ="input-fixed" 
												clientId="street" t:id="street"/>
							</span>
						</p>
						
						<p>
							<label for="suburb">Suburb<t:if test="contactFieldHelper.requireSuburb"><em title="${message:required}">*</em></t:if></label>
							<span class="${suburbInputClass}">
								<t:textfield value="contact.suburb" class ="suburb-autocomplete input-fixed" 
									clientId="suburb" t:id="suburb" default="postcode or suburb" size="18" autocomplete="off"/>
							</span>
						</p>
						<p>
							<label for="postcode">Postcode<t:if test="contactFieldHelper.requirePostcode"><em title="${message:required}">*</em></t:if></label>
							<span class="${postcodeInputClass}">
								<t:textfield value="contact.postcode" class ="input-fixed" 
										clientId="postcode" t:id="postcode" />
							</span>
						</p>
						<p>
							<label for="state">State<t:if test="contactFieldHelper.requireState"><em title="${message:required}">*</em></t:if></label>
							<span class="${stateInputClass}">
								<t:textfield value="contact.state" class ="input-fixed" 
										clientId="state" t:id="state" />
							</span>
						</p>
						
						<t:if test="${visible('country')}">
							<p>
								<label for="country">${label('country')}<t:if test="required('country')"><em title="${message:required}">*</em></t:if></label>
								<span class="${validateHandler.validateClass('country')}">
									<t:textfield value="contactCountry" class ="input-fixed" clientId="country" t:id="country" />
								</span>
							</p>
						</t:if>
						
						<p>
							<label for="homephone">Home Phone<t:if test="contactFieldHelper.requireHomePhone"><em title="${message:required}">*</em></t:if></label>
							<span class="${homePhoneInputClass}">
								<t:textfield value="contact.homePhoneNumber" class ="input-fixed" 
										clientId="homephone" t:id="homePhone" />
								
							</span>
						</p>
						<p>
							<label for="mobilephone">Mobile Phone<t:if test="contactFieldHelper.requireMobile"><em title="${message:required}">*</em></t:if></label>
							<span class="${mobilePhoneInputClass}">
								<t:textfield value="contact.mobilePhoneNumber" class ="input-fixed" 
										clientId="mobilephone" t:id="mobilePhone" />
								
							</span>
						</p>
						
						<p>
							<label for="businessphone">Work Phone<t:if test="contactFieldHelper.requireBusinessPhone"><em title="${message:required}">*</em></t:if></label>
							<span class="${businessPhoneInputClass}">
								<t:textfield value="contact.businessPhoneNumber" class ="input-fixed" 
										clientId="businessphone" t:id="businessPhone" />
							</span>
						</p>
						<p>
							<label for="facsimile">Fax<t:if test="contactFieldHelper.requireFax"><em title="${message:required}">*</em></t:if></label>
							<span class="${faxInputClass}">
								<t:textfield value="contact.faxNumber" class ="input-fixed" 
										clientId="facsimile" t:id="fax" />
							</span>
						</p>
						
						<p>
							<label for="birthdate">Date of birth<t:if test="contactFieldHelper.requireDateOfBirth"><em title="${message:required}">*</em></t:if></label>
							<span class="${birthDateInputClass}">
								<t:textField value="birthDateProperty" class ="input-fixed" 
										clientId="birthdate" t:id="birthDate"/>
								
							</span>
						</p>
						<div class="radio-list">
							<label>Gender</label>
							<t:radiogroup t:value="contact.isMale"> 
								<label for="male" class="radio"><input type="radio" t:type="radio" t:value="true"/>Male</label>
								<label for="female" class="radio"><input type="radio" t:type="radio" t:value="false"/>Female</label>
							</t:radiogroup>
						</div>
						<p>	
							<label>I would like to receive marketing material via: </label>
							<t:checkbox t:id="allowEmail" value="contact.isMarketingViaEmailAllowed"/> <label for="allowEmail">E-Mail</label>
							<t:checkbox t:id="allowSms" value="contact.isMarketingViaSMSAllowed"/> <label for="allowSms">SMS</label>
							<t:checkbox t:id="allowPost" value="contact.isMarketingViaPostAllowed"/> <label for="allowPost">Post</label> 
						</p>
					</fieldset>	
					<t:if test = "isStudent">
						<t:if test = "isRequiresAvetmiss">
							<div class="message">
								<p>${message('message-federalEduQuest')} <strong class="collapse" id="questionnaire">${message('message-optionalAnswering')}</strong></p>
							</div>
							<div>
								<fieldset id="questionnaire-block">
									<p>
										<label for="countryOfBirth">${label('countryOfBirth')}</label>
										<span class="${validateHandler.validateClass('countryOfBirth')}">
											<t:textfield value="countryOfBirthName" class ="input-fixed" t:id="countryOfBirth" />
										</span>	
									</p>
									<p>
										<label for="languageHome">${label('languageHome')}</label>
										<span class="${validateHandler.validateClass('languageHome')}">
											<t:textfield value="languageHomeName" class ="input-fixed" t:id="languageHome" />
										</span>	
									</p>
									<p>
										<label for="englishProficiency">${label('englishProficiency')}</label>
										<t:select value="contact.student.englishProficiency" model="englishProficiencySelectModel" blankOption="NEVER"/>
									</p>
									
									<p>
										<label for="indigenousStatus">${label('indigenousStatus')}</label>
										<t:select value="contact.student.indigenousStatus" model="indigenousStatusSelectModel" blankOption="NEVER"/>
									</p>
									<p>
										<label for="highestSchoolLevel">${label('highestSchoolLevel')}</label>
										<t:select value="contact.student.highestSchoolLevel" model="schoolLevelSelectModel" blankOption="NEVER"/>
									</p>
									<p>
										<label for="yearSchoolCompleted">${label('yearSchoolCompleted')}</label>
										<span class="${validateHandler.validateClass('yearSchoolCompleted')}">
											<t:textfield value="schoolYearStr" class ="input-fixed" 
												t:id="yearSchoolCompleted" />
										</span>	
									</p>
									<p>
										<label for="stillAtSchool">${label('stillAtSchool')}</label>
										<t:select t:id="stillAtSchool" value="stillAtSchoolSelection" model="stillAtSchoolSelectModel" blankOption="NEVER"/>
									</p>
									<p>
										<label for="priorEducationCode">${label('priorEducationCode')}</label>
										<t:select value="contact.student.priorEducationCode" model="priorEducationSelectModel" blankOption="NEVER"/>
									</p>
									<p>
										<label for="labourForceStatus">${label('labourForceStatus')}</label>
										<t:select value="contact.student.labourForceStatus" model="labourForceStatusSelectModel" blankOption="NEVER"/>
									</p>
									<p>
										<label for="disabilityType">
											<t:outputraw value="${label('disabilityType')}"/>
										</label>
										 <t:select t:id="disabilityType" value="contact.student.disabilityType" model="disabilityTypeSelectModel"  blankOption="NEVER"/>
									</p>
								</fieldset>
							</div>
						</t:if>
					</t:if>
					
					<div class="actions" xml:space="preserve">
						<t:submit  t:id="saveProfileAction" value="Save" class="btn btn-primary" clientId="save-student-profile"/> 
					</div>	
				</t:form>
			</div>
	
			<div id="password-form" class="tab-pane">
				<t:form t:id="passwordForm">
					<t:errors banner="literal:Please correct the following mistakes:" class="literal:validation"/>
			
					<fieldset id="passwordBlock">
						<p>
								<label for="password">Password <em title="${message:required}">*</em></label>
								<input t:type="PasswordField" t:id="password" />
						</p>
						<p>
								<label for="confirmPassword">Confirm password <em title="${message:required}">*</em></label>
								<input t:type="PasswordField" t:id="confirmpassword" />
						</p>
					</fieldset>
			
					<div class="actions" xml:space="preserve">
						<t:submit t:id="savePasswordAction" value="Save" class="btn btn-primary" clientId="save-password"/>
					</div>
				</t:form>
			</div>
		</div>
	</div>
</html>
