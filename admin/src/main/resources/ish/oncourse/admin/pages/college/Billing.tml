<html t:type="pagestructure" title="literal:College Billing"
	xmlns:t="http://tapestry.apache.org/schema/tapestry_5_1_0.xsd"
	xmlns:p="tapestry:parameter">

<span t:type="editTabs" college="college" selected="literal:billing" />

<h1>${college.name}</h1>

<t:form t:id="billingForm">
	<table>
		<tr>
			<td>PaymentExpress user</td>
			<td><t:textfield t:id="paymentUser" t:validate="required" value="paymentExpUser" />
			</td>
		</tr>
		<tr>
			<td>PaymentExpress password</td>
			<td><t:textfield t:id="paymentPass" t:validate="required" value="paymentExpPass" />
			</td>
		</tr>
	</table>
	
	<t:checkbox t:id="webPaymentCheckbox" value="webPaymentEnabled"/>
	<label for="webPaymentCheckbox">web payment gateway enabled</label>
	<br/>
	<t:checkbox t:id="qePaymentCheckbox" value="qePaymentEnabled"/>
	<label for="qePaymentCheckbox">onCourse QuickEnrol payments enabled</label>
	<br/>
	<t:checkbox t:id="amexCheckbox" value="amexEnabled"/>
	<label for="amexCheckbox">Amex card type enabled</label>

	<h2>License Fees</h2>

	<table>
		<thead>
			<tr>
				<td>Key Code</td>
				<td>Plan Name</td>
				<td>Billing Month</td>
				<td>Valid Until</td>
				<td>Free Transactions</td>
				<td>Fee</td>
			</tr>
		</thead>
		<tbody>
			<t:loop source="licenseInfo.keySet()" value="currentLicenseInfoKey">
				<tr>
					<td>${currentLicenseInfoKey}</td>
					<td><t:textfield t:id="planName" value="planName"/></td>
					<td><t:textfield t:id="billingMonth" t:validate="regexp=^([1-9]|1[0-2])$" value="billingMonth"/></td>
					<td><t:textfield t:id="validUntil" value="validUntil"/></td>
					<td><t:textfield t:id="freeTransactions" t:validate="required" value="freeTransactions"/></td>
					<td><t:textfield t:id="fee" t:validate="required" value="fee"/></td>
				</tr>
			</t:loop>
		</tbody>
	</table>
	
	<t:submit t:id="save" value="Save"/>
</t:form>

</html>