<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="InvoiceReport" language="groovy" pageWidth="574" pageHeight="842" columnWidth="475" leftMargin="60" rightMargin="39" topMargin="22" bottomMargin="50" isFloatColumnFooter="true" whenResourceMissingType="Empty">
	<property name="name" value="Invoice"/>
	<property name="entity" value="InvoiceLine"/>
	<property name="isSubreport" value="false"/>
	<property name="isVisible" value="true"/>
	<property name="versionNumber" value="52"/>
	<property name="keyCode" value="ccec.onCourse.invoiceReport"/>
	<property name="ish.oncourse.title" value="Invoice line list"/>
	<property name="ish.oncourse.filePrefix" value="invoice line"/>
	<property name="ireport.scriptlethandling" value="0"/>
	<property name="ireport.encoding" value="UTF-8"/>
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<import value="net.sf.jasperreports.engine.*"/>
	<import value="java.util.*"/>
	<import value="ish.math.Money"/>
	<import value="net.sf.jasperreports.engine.data.*"/>
	<style name="Report_Title" isDefault="true" fontName="Arial" fontSize="18" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="Column_Header" isDefault="true" fontName="Arial" fontSize="10" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="Column_Field" isDefault="true" fontName="Arial" fontSize="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<style name="Footer" isDefault="true" fontName="Arial" fontSize="8" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
	<parameter name="ReportName" class="java.lang.String"/>
	<field name="invoiceLine" class="ish.oncourse.server.cayenne.InvoiceLine"/>
	<field name="title" class="java.lang.String"/>
	<field name="invoice.billToAddress" class="java.lang.String"/>
	<field name="invoice.invoiceNumber" class="java.lang.Long"/>
	<field name="invoice.printHeading" class="java.lang.String"/>
	<field name="image.logo" class="java.io.InputStream"/>
	<field name="global.print_pre_printed" class="java.lang.Boolean"/>
	<field name="invoice.publicNotes" class="java.lang.String"/>
	<field name="invoice.contact.isCompany" class="java.lang.Boolean"/>
	<field name="invoice.contact.name" class="java.lang.String"/>
	<field name="invoice.customerReference" class="java.lang.String"/>
	<field name="pref.college.name" class="java.lang.String"/>
	<field name="pref.avetmiss.address.line1" class="java.lang.String"/>
	<field name="pref.avetmiss.address.suburb" class="java.lang.String"/>
	<field name="pref.avetmiss.address.postcode" class="java.lang.String"/>
	<field name="pref.avetmiss.address.state" class="java.lang.String"/>
	<field name="invoice.amountOwing" class="java.lang.Number"/>
	<field name="pref.college.paymentInfo" class="java.lang.String"/>
	<field name="image.poweredby" class="java.io.InputStream"/>
	<field name="subreport.cce.onCourse.titleSubReportLandscape" class="net.sf.jasperreports.engine.JasperReport"/>
	<field name="datasource.title" class="net.sf.jasperreports.engine.JRDataSource"/>
	<field name="description" class="java.lang.String"/>
	<field name="priceEachExTax" class="java.lang.Object"/>
	<field name="taxEach" class="java.lang.Object"/>
	<field name="discountEachExTax" class="java.lang.Object"/>
	<field name="quantity" class="java.math.BigDecimal"/>
	<variable name="invoiceLineTotal" class="java.lang.Object">
		<variableExpression><![CDATA[(
		(new ish.math.Money($F{quantity})).multiply
	 	(((ish.math.Money)$F{priceEachExTax}).subtract(
		((ish.math.Money)$F{discountEachExTax})
		).add(((ish.math.Money)$F{taxEach}))))]]></variableExpression>
		<initialValueExpression><![CDATA[null]]></initialValueExpression>
	</variable>
	<variable name="invoiceLineTaxTotal" class="java.lang.Object">
		<variableExpression><![CDATA[(new ish.math.Money($F{quantity})).multiply(
		(ish.math.Money) $F{taxEach})]]></variableExpression>
		<initialValueExpression><![CDATA[null]]></initialValueExpression>
	</variable>
	<variable name="isLastPage" class="java.lang.Boolean" resetType="Column" incrementType="Page">
		<variableExpression><![CDATA[new Boolean( ($V{PAGE_COUNT} == null ) || ( $V{PAGE_COUNT}.intValue() <= 1 ) || ( $V{PAGE_NUMBER}.intValue() <= $V{PAGE_COUNT}.intValue() ))]]></variableExpression>
		<initialValueExpression><![CDATA[null]]></initialValueExpression>
	</variable>
	<variable name="invoiceLineSumForInvoice" class="java.math.BigDecimal" resetType="Group" resetGroup="details" calculation="Sum">
		<variableExpression><![CDATA[((ish.math.Money)$V{invoiceLineTotal}).toBigDecimal()]]></variableExpression>
		<initialValueExpression><![CDATA[null]]></initialValueExpression>
	</variable>
	<variable name="invoiceLineSum" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[((ish.math.Money)$V{invoiceLineTotal}).toBigDecimal()]]></variableExpression>
		<initialValueExpression><![CDATA[null]]></initialValueExpression>
	</variable>
	<variable name="invoiceLineTaxSum" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[((ish.math.Money)$V{invoiceLineTaxTotal}).toBigDecimal()]]></variableExpression>
		<initialValueExpression><![CDATA[null]]></initialValueExpression>
	</variable>
	<group name="details" isStartNewPage="true">
		<groupExpression><![CDATA[$F{invoice.invoiceNumber}]]></groupExpression>
		<groupHeader>
			<band height="165" splitType="Stretch">
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement key="textField" style="Column_Field" positionType="Float" x="14" y="86" width="250" height="79"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement/>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{invoice.billToAddress}]]></textFieldExpression>
				</textField>
				<textField isBlankWhenNull="false">
					<reportElement key="textField-3" style="Column_Field" positionType="Float" x="334" y="103" width="136" height="28"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Right"/>
					<textFieldExpression class="java.lang.String"><![CDATA["CCE"+String.valueOf($F{invoice.invoiceNumber}) + " \nInvoice number"]]></textFieldExpression>
					<anchorNameExpression><![CDATA["Summary"]]></anchorNameExpression>
				</textField>
				<textField isBlankWhenNull="false">
					<reportElement key="textField-4" style="Column_Field" positionType="Float" x="14" y="73" width="250" height="13"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Left" verticalAlignment="Top" >
						<font size="10"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{invoice.contact.name}]]></textFieldExpression>
				</textField>
				<subreport isUsingCache="true">
					<reportElement key="subreport-1" x="2" y="4" width="378" height="18"/>
					<dataSourceExpression><![CDATA[$F{datasource.title}]]></dataSourceExpression>
					<subreportExpression class="net.sf.jasperreports.engine.JasperReport"><![CDATA[$F{subreport.cce.onCourse.titleSubReportLandscape}]]></subreportExpression>
				</subreport>
				<image scaleImage="RetainShape">
					<reportElement key="image-2" x="380" y="0" width="95" height="79"/>
					<imageExpression class="java.io.InputStream"><![CDATA[$F{image.logo}]]></imageExpression>
				</image>
				<textField isBlankWhenNull="false">
					<reportElement key="textField" style="Column_Field" positionType="Float" x="309" y="85" width="162" height="18"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Right"/>
					<textFieldExpression class="java.util.Date"><![CDATA[$F{invoiceLine}.invoice.invoiceDate.format("dd/MM/yyyy")]]></textFieldExpression>
				</textField>
			</band>
			<band height="43" splitType="Prevent">
				<textField isBlankWhenNull="false">
					<reportElement key="textField-5" style="Column_Field" x="0" y="6" width="470" height="17"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement>
						<font size="14" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{invoice.printHeading}]]></textFieldExpression>
				</textField>
			</band>
			<band height="21" splitType="Stretch">
				<line>
					<reportElement key="line-1" x="0" y="19" width="474" height="2" forecolor="#333333"/>
					<graphicElement fill="Solid">
						<pen lineWidth="0.25" lineStyle="Solid"/>
					</graphicElement>
				</line>
				<line>
					<reportElement key="line-2" x="0" y="1" width="475" height="1" forecolor="#333333"/>
					<graphicElement fill="Solid">
						<pen lineWidth="0.25" lineStyle="Solid"/>
					</graphicElement>
				</line>
				<staticText>
					<reportElement key="staticText-2" style="Column_Header" x="0" y="4" width="220" height="15"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Left">
						<font pdfFontName="Helvetica-Bold"/>
					</textElement>
					<text><![CDATA[Title]]></text>
				</staticText>
				<staticText>
					<reportElement key="staticText-3" style="Column_Header" x="225" y="4" width="59" height="15"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Right">
						<font pdfFontName="Helvetica-Bold"/>
					</textElement>
					<text><![CDATA[Price each]]></text>
				</staticText>
				<staticText>
					<reportElement key="staticText-4" style="Column_Header" x="290" y="4" width="44" height="15"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Right">
						<font pdfFontName="Helvetica-Bold"/>
					</textElement>
					<text><![CDATA[Discount]]></text>
				</staticText>
				<staticText>
					<reportElement key="staticText-5" style="Column_Header" x="345" y="4" width="49" height="15"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Right">
						<font pdfFontName="Helvetica-Bold"/>
					</textElement>
					<text><![CDATA[Tax]]></text>
				</staticText>
				<staticText>
					<reportElement key="staticText-6" style="Column_Header" x="406" y="4" width="65" height="15"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Right">
						<font pdfFontName="Helvetica-Bold"/>
					</textElement>
					<text><![CDATA[Total]]></text>
				</staticText>
				<line>
					<reportElement key="line-4" x="400" y="2" width="1" height="18"/>
					<graphicElement fill="Solid">
						<pen lineWidth="0.25" lineStyle="Solid"/>
					</graphicElement>
				</line>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="78" splitType="Prevent">
				<line direction="BottomUp">
					<reportElement key="line-5" x="0" y="4" width="473" height="1"/>
					<graphicElement fill="Solid">
						<pen lineWidth="0.25" lineStyle="Solid"/>
					</graphicElement>
				</line>
				<line direction="BottomUp">
					<reportElement key="line-6" x="0" y="28" width="473" height="1"/>
					<graphicElement fill="Solid">
						<pen lineWidth="0.25" lineStyle="Solid"/>
					</graphicElement>
				</line>
				<line direction="BottomUp">
					<reportElement key="line-7" x="0" y="77" width="473" height="1"/>
					<graphicElement fill="Solid">
						<pen lineWidth="0.25" lineStyle="Solid"/>
					</graphicElement>
				</line>
				<staticText>
					<reportElement key="staticText-7" style="Column_Field" x="0" y="61" width="128" height="15">
						<printWhenExpression><![CDATA[new Boolean(!$V{isLastPage}.booleanValue())]]></printWhenExpression>
					</reportElement>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement verticalAlignment="Middle"/>
					<text><![CDATA[Continued on next page]]></text>
				</staticText>
				<textField isBlankWhenNull="false">
					<reportElement key="textField-6" style="Column_Field" x="406" y="11" width="65" height="15">
						<printWhenExpression><![CDATA[$V{isLastPage}]]></printWhenExpression>
					</reportElement>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Bottom">
						<font isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<textFieldExpression class="java.lang.Number"><![CDATA[new ish.math.Money($V{invoiceLineSumForInvoice})]]></textFieldExpression>
				</textField>
				<line>
					<reportElement key="line-7" stretchType="RelativeToBandHeight" x="400" y="0" width="1" height="77"/>
					<graphicElement fill="Solid">
						<pen lineWidth="0.25" lineStyle="Solid"/>
					</graphicElement>
				</line>
				<staticText>
					<reportElement key="staticText-8" style="Column_Header" x="0" y="11" width="40" height="15">
						<printWhenExpression><![CDATA[$V{isLastPage}]]></printWhenExpression>
					</reportElement>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold"/>
					</textElement>
					<text><![CDATA[Total]]></text>
				</staticText>
				<textField evaluationTime="Page" isBlankWhenNull="false">
					<reportElement key="textField-7" x="325" y="11" width="70" height="15">
						<printWhenExpression><![CDATA[$V{isLastPage}]]></printWhenExpression>
					</reportElement>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Bottom">
						<font fontName="Arial" size="10"/>
					</textElement>
					<textFieldExpression class="java.lang.Number"><![CDATA[new ish.math.Money($V{invoiceLineTaxSum})]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement key="staticText-9" style="Column_Header" x="297" y="41" width="104" height="15"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement verticalAlignment="Top">
						<font isBold="false" pdfFontName="Helvetica"/>
					</textElement>
					<text><![CDATA[Less amount paid]]></text>
				</staticText>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement key="textField-9" style="Column_Field" x="406" y="42" width="65" height="14"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Right"/>
					<textFieldExpression class="java.lang.Number"><![CDATA[new ish.math.Money($V{invoiceLineSum}).subtract((ish.math.Money)$F{invoice.amountOwing})]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement key="staticText-9" style="Column_Header" x="297" y="56" width="104" height="15"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement verticalAlignment="Top">
						<font isBold="false" pdfFontName="Helvetica"/>
					</textElement>
					<text><![CDATA[Total owing]]></text>
				</staticText>
				<textField isBlankWhenNull="false">
					<reportElement key="textField-6" style="Column_Field" x="406" y="56" width="65" height="15">
						<printWhenExpression><![CDATA[$V{isLastPage}]]></printWhenExpression>
					</reportElement>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Bottom">
						<font isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<textFieldExpression class="java.lang.Number"><![CDATA[(((ish.math.Money)$F{invoice.amountOwing}).doubleValue()>0)?((ish.math.Money)$F{invoice.amountOwing}):(((ish.math.Money)$F{invoice.amountOwing}).negate())]]></textFieldExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<group name="notes">
		<groupExpression><![CDATA[]]></groupExpression>
		<groupHeader>
			<band height="17" splitType="Stretch">
				<printWhenExpression><![CDATA[new Boolean($F{invoice.publicNotes} != null)]]></printWhenExpression>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement key="textField-16" style="Column_Field" stretchType="RelativeToTallestObject" x="0" y="0" width="395" height="15"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement/>
					<textFieldExpression class="java.lang.String"><![CDATA[$F{invoice.publicNotes}]]></textFieldExpression>
				</textField>
				<line>
					<reportElement key="line-3" style="Column_Field" stretchType="RelativeToBandHeight" x="400" y="0" width="1" height="17" isRemoveLineWhenBlank="true" isPrintWhenDetailOverflows="true"/>
					<graphicElement fill="Solid">
						<pen lineWidth="0.25" lineStyle="Solid"/>
					</graphicElement>
				</line>
			</band>
		</groupHeader>
		<groupFooter>
			<band splitType="Stretch"/>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="1" splitType="Stretch"/>
	</title>
	<detail>
		<band height="71" splitType="Stretch">
			<textField isBlankWhenNull="true">
				<reportElement key="textField" style="Column_Field" x="0" y="3" width="220" height="14"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Justified"/>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{title}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-2" style="Column_Field" x="290" y="3" width="44" height="14"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right"/>
				<textFieldExpression class="java.lang.Number"><![CDATA[$F{discountEachExTax}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-3" style="Column_Field" x="345" y="3" width="50" height="14"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right"/>
				<textFieldExpression class="java.lang.Number"><![CDATA[$V{invoiceLineTaxTotal}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-4" style="Column_Field" x="406" y="3" width="65" height="14"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right"/>
				<textFieldExpression class="java.lang.Number"><![CDATA[$V{invoiceLineTotal}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement key="line-3" style="Column_Field" stretchType="RelativeToBandHeight" x="400" y="0" width="1" height="71" isRemoveLineWhenBlank="true" isPrintWhenDetailOverflows="true"/>
				<graphicElement fill="Solid">
					<pen lineWidth="0.25" lineStyle="Solid"/>
				</graphicElement>
			</line>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement key="textField-5" style="Column_Field" x="0" y="18" width="219" height="14" isRemoveLineWhenBlank="true"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" />
				<textFieldExpression class="java.lang.String"><![CDATA[$F{description}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement key="textField-8" style="Column_Field" x="225" y="3" width="60" height="14"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right"/>
				<textFieldExpression class="java.lang.Number"><![CDATA[$F{priceEachExTax}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<pageFooter>
		<band height="100" splitType="Prevent">
			<printWhenExpression><![CDATA[new Boolean(((ish.math.Money)$F{invoice.amountOwing}).intValue()!=0)]]></printWhenExpression>
			<line direction="BottomUp">
				<reportElement key="line-1" style="Footer" x="0" y="1" width="475" height="1"/>
				<graphicElement>
					<pen lineWidth="1.0" lineStyle="Dashed"/>
				</graphicElement>
			</line>
			<textField isStretchWithOverflow="true" isBlankWhenNull="false">
				<reportElement key="textField-17" style="Footer" x="0" y="2" width="475" height="10"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center">
					<font size="7"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["Payment details ---- Tear along the line"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="false">
				<reportElement key="textField-18" style="Column_Field" x="0" y="14" width="250" height="15"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" />
				<textFieldExpression class="java.lang.String"><![CDATA["Endorse payment to "+$F{pref.college.name}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false">
				<reportElement key="textField-19" style="Column_Field" positionType="Float" x="0" y="29" width="250" height="15"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Bottom" />
				<textFieldExpression class="java.lang.String"><![CDATA["and return this section to"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="false">
				<reportElement key="textField-20" style="Column_Field" positionType="Float" x="0" y="45" width="250" height="15"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" />
				<textFieldExpression class="java.lang.String"><![CDATA[(($F{pref.avetmiss.address.line1}==null)?"":$F{pref.avetmiss.address.line1})+" "+
(($F{pref.avetmiss.address.suburb}==null) ? "" : ($F{pref.avetmiss.address.suburb}+" "))+
(($F{pref.avetmiss.address.state}==null) ? "" : ($F{pref.avetmiss.address.state}+" "))+
(($F{pref.avetmiss.address.postcode}==null) ? "" : ($F{pref.avetmiss.address.postcode}))]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement key="textField-21" style="Column_Field" positionType="Float" x="0" y="61" width="250" height="15"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" />
				<textFieldExpression class="java.lang.String"><![CDATA[$F{pref.college.paymentInfo}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false">
				<reportElement key="textField-22" style="Column_Field" x="271" y="14" width="200" height="15"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" />
				<textFieldExpression class="java.lang.String"><![CDATA["Reference : "+($F{invoice.customerReference}==null? ("Invoice number CCE "+$F{invoice.invoiceNumber}):$F{invoice.customerReference})]]></textFieldExpression>
			</textField>
			<line>
				<reportElement key="line-2" style="Footer" x="272" y="34" width="200" height="1"/>
				<graphicElement>
					<pen lineWidth="7.0" lineStyle="Solid"/>
				</graphicElement>
			</line>
			<textField isBlankWhenNull="false">
				<reportElement key="textField-23" style="Column_Field" mode="Opaque" x="293" y="28" width="60" height="15" backcolor="#FFFFFF"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" />
				<textFieldExpression class="java.lang.String"><![CDATA["Amount"]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false">
				<reportElement key="textField-24" style="Column_Field" mode="Opaque" x="393" y="28" width="60" height="15" backcolor="#FFFFFF"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" />
				<textFieldExpression class="java.lang.String"><![CDATA["Date due"]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false">
				<reportElement key="textField-25" style="Column_Field" x="293" y="43" width="60" height="15"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" >
					<font isBold="true"/>
				</textElement>
				<textFieldExpression class="java.lang.Number"><![CDATA[$F{invoice.amountOwing}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false">
				<reportElement key="textField-26" style="Column_Field" x="393" y="43" width="60" height="15"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" >
					<font isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{invoiceLine}.invoice.dateDue.format("dd/MM/yyyy")]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band splitType="Stretch"/>
	</summary>
</jasperReport>
