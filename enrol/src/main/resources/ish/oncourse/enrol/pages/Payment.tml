<html t:type="ui/internal/pagestructure" bodyId="literal:PaymentPage"
	  bodyClass="literal:internal-page"
	  xmlns:t="http://tapestry.apache.org/schema/tapestry_5_1_0.xsd">
<div id="checkout">
	<t:delegate to="block:errors"/>
	<t:if test="purchaseController.editPayment">
		<t:delegate to="block:paymentEditor"/>
	</t:if>
	<t:if test="purchaseController.finalized">
		<t:delegate to="block:paymentResult"/>
	</t:if>
</div>

<t:block t:id="paymentEditor">
	<span t:type="checkout/payment/paymenteditor" delegate="purchaseController.paymentEditorDelegate"/>
</t:block>
<t:block t:id="paymentResult">
	<span t:type="checkout/payment/paymentresult" delegate="purchaseController.paymentEditorDelegate"/>
</t:block>
<t:block t:id="errors">
	<span t:type="checkout/errors" errors="purchaseController.errors"/>
</t:block>

<link href="${asset:context:css/_checkout.css}" media="screen, print" rel="stylesheet" />
<script type="text/javascript" src="${asset:context:js/jquery.blockUI.js}"/>
<script type="text/javascript" src="${asset:context:js/_checkout.js}"/>

</html>