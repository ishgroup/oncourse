<html t:type="ui/dialogstructure" title="literal:Add to Waiting List"
	xmlns:t="http://tapestry.apache.org/schema/tapestry_5_1_0.xsd"
	xmlns:p="tapestry:parameter">
	<t:if test="course">
		<t:zone id="waitingListFormZone" t:id="waitingListFormZone">
			<t:if test="submittedSuccessfully">
				<div class="message">
					<p class="feedback">
						Thank you for your request.
						<br/> 
						The student <b>${contact.givenName} ${contact.familyName}</b> (<b>${waitingList.potentialStudents}</b> potential places)
						<br/> 
						was successfully added to waiting list for course <b>${course.name}</b>.
					</p>
				</div>
				<p:else>
					<p>To join the waiting list, please complete the following form:</p>
					<t:form t:id="waitingListForm" zone="waitingListFormZone" >
						<t:errors/>
						<dl>
							<dt>First Name:</dt>
							<dd>
								<t:textfield t:id="waitlistFirstName" validate="required"
										t:value="contact.givenName" />
							</dd>
							<dt>Last Name:</dt>
							<dd>
								<t:textfield t:id="waitlistLastName" validate="required"
										t:value="contact.familyName" />
							</dd>
							<dt>E-Mail address:</dt>
							<dd>
								<t:textfield t:id="waitlistEmail" validate="required"
										t:value="contact.emailAddress" />
							</dd>
							<dt>
								What you'd like:
								<span class="description">
									Please tell us your preferences, eg on Tuesdays, in Newtown, etc.
								</span>
							</dt>
							<dd>
								<t:textarea t:id="waitlistNotes" t:value="waitingList.detail"
										cols="30" rows="4" />
							</dd>
							<dt>Number of students (including you):</dt>
							<dd>
								<t:textfield t:id="numberOfStudents" validate="required"
										t:value="waitingList.potentialStudents" />
							</dd>
							<t:submit t:value="Add to waiting list"/>
						</dl>
					</t:form>
				</p:else>
			</t:if>
		</t:zone>
		<p:else>Sorry, the course is not defined.</p:else>
	</t:if>	
</html>	