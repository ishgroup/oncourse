apply plugin: 'java'
apply plugin: 'groovy'
apply plugin: 'maven'
apply plugin: 'application'

repositories {
    mavenCentral()
    maven {
        url 'https://repo.ish.com.au/content/groups/public'
    }
    maven {
        url 'https://repo.ish.com.au/content/groups/ish'
    }
}

dependencies {
    compile (project(':common:common-functions')) {
        exclude group: 'org.apache.logging.log4j'
    }
    
    compile "org.codehaus.groovy:groovy-all:$groovyVersion"

   //cxf
    compile 'org.apache.cxf:cxf-core:3.1.10'
    compile 'org.apache.cxf:cxf-rt-frontend-jaxrs:3.1.10'
    compile 'org.apache.cxf:cxf-rt-transports-http-jetty:3.1.10'
    compile 'com.fasterxml.jackson.jaxrs:jackson-jaxrs-json-provider:2.8.6'

    //bean validation
    compile 'javax.validation:validation-api:1.1.0.Final'
    compile 'org.apache.bval:org.apache.bval.bundle:1.1.2'

    //bootique
    compile 'io.bootique.jetty:bootique-jetty:0.19'
    compile 'io.bootique.cayenne:bootique-cayenne:0.18'
    compile 'io.bootique.logback:bootique-logback:0.13'
    compile 'io.bootique.jcache:bootique-jcache:0.1'
    
    //cache
    compile 'org.ehcache:ehcache:3.3.0'

    compile "org.apache.logging.log4j:log4j-api:$log4j2Version"
    compile 'org.slf4j:log4j-over-slf4j:1.7.24'
    compile 'org.slf4j:slf4j-api:1.7.24'
    
    compile 'mysql:mysql-connector-java:5.1.38'

    testCompile 'junit:junit:4.12'
    testCompile 'dbunit:dbunit:2.4.8'
    testCompile 'commons-dbcp:commons-dbcp:1.4'
}

mainClassName = 'ish.oncourse.willow.WillowApp'

targetCompatibility = '1.8'
sourceCompatibility = '1.8'

compileGroovy {
    groovyOptions.configurationScript = file("config.groovy")
}