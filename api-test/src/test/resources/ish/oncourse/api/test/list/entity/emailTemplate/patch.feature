@parallel=false
Feature: Main feature for all PATCH requests with path 'list/entity/emailTemplateToUpdate'

    Background: Authorize first
        * call read('../../../signIn.feature')
        * url 'https://127.0.0.1:8182/a/v1'
        * def ishPath = 'list/entity/emailTemplateToUpdate'
        * def ishPathLogin = 'login'
        * def ishPathList = 'list/plain'
        



    Scenario: (+) Update system EmailTemplate by admin

        Given path ishPathList
        And param entity = 'EmailTemplate'
        And param pageSize = 65000
        And param offset = 0
        And param columns = 'name'
        When method GET
        Then status 200

        * def id = get[0] response.rows[?(@.values == ['plain'])].id
        * print "id = " + id

#        * def emailTemplateToUpdate =
#        """
#        {
#        "id":"#(~~id)",
#        "name":"Certificate-Attainment",
#        "entity":"Account",
#        "enabled":false,
#        "keyCode":"ish.onCourse.classTutorListEmailTemplateUPD",
#        "description":"UPD To obtain an overview of classes scheduled for each tutor. This report also provides the total hours the tutor is scheduled to teach for each class, which can be used for payroll purposes.This report prints in Landscape format.",
#        "body":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!-- UPD Created with Jaspersoft Studio version 6.1.0.final using JasperEmailTemplates Library version 6.1.0  -->\n<jasperEmailTemplate xmlns=\"http://jasperreports.sourceforge.net/jasperreports\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd\" name=\"ClassTutorList\" language=\"groovy\" pageWidth=\"842\" pageHeight=\"595\" orientation=\"Landscape\" columnWidth=\"786\" leftMargin=\"28\" rightMargin=\"28\" topMargin=\"28\" bottomMargin=\"28\" uuid=\"6d9bff41-6ce8-4b6f-9a2e-5aa72101b0a4\">\n\t<property name=\"name\" value=\"Class Tutor List\"/>\n\t<property name=\"entity\" value=\"CourseClassTutor\"/>\n\t<property name=\"isSubreport\" value=\"false\"/>\n\t<property name=\"isVisible\" value=\"true\"/>\n\n\t<property name=\"keyCode\" value=\"ish.onCourse.classTutorListEmailTemplate\"/>\n\t<property name=\"ish.oncourse.description\" value=\"To obtain an overview of classes scheduled for each tutor. This report also provides the total hours the tutor is scheduled to teach for each class, which can be used for payroll purposes.This report prints in Landscape format.\"/>\n\t<property name=\"sortOn\" value=\"tutor.contact.lastName\"/>\n\t<property name=\"ish.oncourse.reports.isObjectOnSeparatePage\" value=\"false\"/>\n\t<import value=\"net.sf.jasperreports.engine.*\"/>\n\t<import value=\"java.util.*\"/>\n\t<import value=\"net.sf.jasperreports.engine.data.*\"/>\n\t<style name=\"default\" isDefault=\"true\" forecolor=\"#000000\" vTextAlign=\"Bottom\" markup=\"none\" fontName=\"Open Sans\" fontSize=\"9\" isBold=\"false\" isItalic=\"false\" isUnderline=\"false\" isStrikeThrough=\"false\" pdfFontName=\"OpenSans\" pdfEncoding=\"Cp1252\" isPdfEmbedded=\"true\">\n\t\t<paragraph spacingAfter=\"8\"/>\n\t</style>\n\t<style name=\"header 1\" style=\"default\" forecolor=\"#4F0018\" vTextAlign=\"Middle\" fontName=\"Open Sans Light\" fontSize=\"18\" pdfFontName=\"Open Sans Light\"/>\n\t<style name=\"header 2\" style=\"header 1\" fontSize=\"12\"/>\n\t<style name=\"header 3\" style=\"default\" vTextAlign=\"Middle\" fontName=\"Open Sans Semibold\" pdfFontName=\"Open Sans Semibold\"/>\n\t<style name=\"header 3 (right)\" style=\"header 3\" hTextAlign=\"Right\"/>\n\t<style name=\"Label\" style=\"default\" forecolor=\"#6A7E99\"/>\n\t<style name=\"Label right\" style=\"Label\" hTextAlign=\"Right\"/>\n\t<style name=\"data field\" style=\"default\"/>\n\t<style name=\"data field (money)\" style=\"data field\" hTextAlign=\"Right\" pattern=\"¤#,###,##0.00;¤(-#,###,##0.00)\"/>\n\t<style name=\"data field (numeric)\" style=\"data field\" hTextAlign=\"Right\"/>\n\t<style name=\"data field (datetime)\" style=\"data field\" pattern=\"d MMM yyyy h:mma\"/>\n\t<style name=\"data field (day)\" style=\"data field\" pattern=\"E d MMM h:mma\"/>\n\t<style name=\"data field (date)\" style=\"data field\" pattern=\"d MMM yyyy\"/>\n\t<style name=\"Footer\" style=\"default\" forecolor=\"#737373\" fontSize=\"8\"/>\n\t<style name=\"Footer strong\" style=\"Footer\" fontName=\"Open Sans Semibold\" pdfFontName=\"Open Sans Semibold\"/>\n\t<style name=\"subHead box\" style=\"default\" backcolor=\"#E6E7F0\"/>\n\t<style name=\"crosstab\" mode=\"Opaque\" backcolor=\"#F7F2E9\">\n\t\t<box>\n\t\t\t<topPen lineWidth=\"0.0\" lineStyle=\"Solid\" lineColor=\"#A3A3A3\"/>\n\t\t\t<leftPen lineWidth=\"0.2\" lineStyle=\"Solid\" lineColor=\"#A3A3A3\"/>\n\t\t\t<bottomPen lineWidth=\"0.2\" lineStyle=\"Solid\" lineColor=\"#A3A3A3\"/>\n\t\t\t<rightPen lineWidth=\"0.0\" lineStyle=\"Solid\" lineColor=\"#A3A3A3\"/>\n\t\t</box>\n\t\t<conditionalStyle>\n\t\t\t<conditionExpression><![CDATA[$V{ROW_COUNT}.intValue() % 2 == 1 ? Boolean.TRUE : Boolean.FALSE]]></conditionExpression>\n\t\t\t<style mode=\"Opaque\" backcolor=\"#FFFFFF\"/>\n\t\t</conditionalStyle>\n\t</style>\n\t<style name=\"alternateRow\" mode=\"Opaque\" forecolor=\"rgba(255, 255, 255, 0.0)\" backcolor=\"#F7F2E9\">\n\t\t<box>\n\t\t\t<topPen lineWidth=\"0.0\" lineStyle=\"Solid\" lineColor=\"#000000\"/>\n\t\t\t<leftPen lineWidth=\"0.0\" lineStyle=\"Solid\" lineColor=\"#000000\"/>\n\t\t\t<bottomPen lineWidth=\"0.0\" lineStyle=\"Solid\" lineColor=\"#000000\"/>\n\t\t\t<rightPen lineWidth=\"0.0\" lineStyle=\"Solid\" lineColor=\"#000000\"/>\n\t\t</box>\n\t\t<conditionalStyle>\n\t\t\t<conditionExpression><![CDATA[$V{PAGE_COUNT}.intValue() % 2 == 1 ? Boolean.TRUE : Boolean.FALSE]]></conditionExpression>\n\t\t\t<style mode=\"Opaque\" backcolor=\"#FFFFFF\"/>\n\t\t</conditionalStyle>\n\t</style>\n\t<parameter name=\"EmailTemplateName\" class=\"java.lang.String\" isForPrompting=\"false\"/>\n\t<field name=\"courseClassTutor\" class=\"ish.oncourse.server.cayenne.CourseClassTutor\"/>\n\t<field name=\"courseClass.course.name\" class=\"java.lang.String\"/>\n\t<field name=\"courseClass.uniqueCode\" class=\"java.lang.String\"/>\n\t<field name=\"courseClass.room.site.name\" class=\"java.lang.String\"/>\n\t<field name=\"sessionSummary\" class=\"java.lang.String\"/>\n\t<field name=\"tutor.contact.lastName\" class=\"java.lang.String\"/>\n\t<field name=\"tutor.id\" class=\"java.lang.Long\"/>\n\t<field name=\"image.poweredby\" class=\"java.io.InputStream\"/>\n\t<group name=\"tutorGroup\">\n\t\t<groupExpression><![CDATA[$F{tutor.id}]]></groupExpression>\n\t\t<groupHeader>\n\t\t\t<band height=\"22\" splitType=\"Stretch\">\n\t\t\t\t<textField isBlankWhenNull=\"true\">\n\t\t\t\t\t<reportElement key=\"textField-13\" style=\"header 2\" x=\"0\" y=\"1\" width=\"776\" height=\"20\" uuid=\"248bc72a-7a56-417d-9137-98778109aa1c\">\n\t\t\t\t\t\t<property name=\"com.jaspersoft.studio.unit.height\" value=\"pixel\"/>\n\t\t\t\t\t</reportElement>\n\t\t\t\t\t<textFieldExpression><![CDATA[$F{courseClassTutor}.tutor.contact.fullName]]></textFieldExpression>\n\t\t\t\t</textField>\n\t\t\t</band>\n\t\t</groupHeader>\n\t\t<groupFooter>\n\t\t\t<band splitType=\"Stretch\"/>\n\t\t</groupFooter>\n\t</group>\n\t<background>\n\t\t<band splitType=\"Stretch\"/>\n\t</background>\n\t<title>\n\t\t<band height=\"141\" splitType=\"Stretch\">\n\t\t\t<property name=\"com.jaspersoft.studio.unit.height\" value=\"pixel\"/>\n\t\t\t<textField isBlankWhenNull=\"false\">\n\t\t\t\t<reportElement key=\"textField-1\" style=\"header 1\" x=\"0\" y=\"115\" width=\"781\" height=\"26\" uuid=\"14d5982e-c377-41a5-950a-d4e4ddf3688a\"/>\n\t\t\t\t<textFieldExpression><![CDATA[$P{EmailTemplateName}]]></textFieldExpression>\n\t\t\t</textField>\n\t\t</band>\n\t</title>\n\t<columnHeader>\n\t\t<band height=\"38\" splitType=\"Stretch\">\n\t\t\t<property name=\"com.jaspersoft.studio.unit.height\" value=\"pixel\"/>\n\t\t\t<rectangle>\n\t\t\t\t<reportElement x=\"0\" y=\"18\" width=\"782\" height=\"20\" backcolor=\"#E6E7F0\" uuid=\"8c67e938-5c56-4f18-9dc5-1b193c87ab08\">\n\t\t\t\t\t<property name=\"com.jaspersoft.studio.unit.height\" value=\"mm\"/>\n\t\t\t\t</reportElement>\n\t\t\t\t<graphicElement>\n\t\t\t\t\t<pen lineWidth=\"0.0\"/>\n\t\t\t\t</graphicElement>\n\t\t\t</rectangle>\n\t\t\t<staticText>\n\t\t\t\t<reportElement key=\"staticText-1\" style=\"header 3\" x=\"1\" y=\"21\" width=\"98\" height=\"15\" uuid=\"77445e88-ba47-462d-81b9-2b8bb977efde\"/>\n\t\t\t\t<text><![CDATA[Code]]></text>\n\t\t\t</staticText>\n\t\t\t<staticText>\n\t\t\t\t<reportElement key=\"staticText-4\" style=\"header 3\" x=\"335\" y=\"21\" width=\"96\" height=\"15\" uuid=\"a83682c4-d554-4788-b8d8-aa685c1ace1f\"/>\n\t\t\t\t<text><![CDATA[Site]]></text>\n\t\t\t</staticText>\n\t\t\t<staticText>\n\t\t\t\t<reportElement key=\"staticText-5\" style=\"header 3 (right)\" x=\"435\" y=\"21\" width=\"94\" height=\"15\" uuid=\"549e85bd-76cd-4445-8066-cc629185cfe7\"/>\n\t\t\t\t<text><![CDATA[Sessions (hours)]]></text>\n\t\t\t</staticText>\n\t\t\t<staticText>\n\t\t\t\t<reportElement key=\"staticText-6\" style=\"header 3\" x=\"101\" y=\"21\" width=\"230\" height=\"15\" uuid=\"33e0e540-0566-42c9-8bf2-37749187a7cf\"/>\n\t\t\t\t<text><![CDATA[Name]]></text>\n\t\t\t</staticText>\n\t\t\t<staticText>\n\t\t\t\t<reportElement key=\"staticText-5\" style=\"header 3\" x=\"540\" y=\"21\" width=\"120\" height=\"15\" uuid=\"5d810410-39e8-4f39-9515-d480bcdb4fcb\"/>\n\t\t\t\t<text><![CDATA[Start Date]]></text>\n\t\t\t</staticText>\n\t\t\t<staticText>\n\t\t\t\t<reportElement key=\"staticText-5\" style=\"header 3\" x=\"660\" y=\"21\" width=\"120\" height=\"15\" uuid=\"ca6809f6-5e6d-43cf-8207-10e5e384c200\"/>\n\t\t\t\t<text><![CDATA[End Date]]></text>\n\t\t\t</staticText>\n\t\t</band>\n\t</columnHeader>\n\t<detail>\n\t\t<band height=\"20\" splitType=\"Stretch\">\n\t\t\t<rectangle>\n\t\t\t\t<reportElement style=\"alternateRow\" stretchType=\"RelativeToBandHeight\" x=\"0\" y=\"0\" width=\"782\" height=\"20\" uuid=\"a87378e6-6fb5-4e04-8263-06c8eb5c14a4\">\n\t\t\t\t\t<property name=\"com.jaspersoft.studio.unit.x\" value=\"mm\"/>\n\t\t\t\t</reportElement>\n\t\t\t</rectangle>\n\t\t\t<textField isBlankWhenNull=\"true\">\n\t\t\t\t<reportElement key=\"textField-6\" style=\"data field\" x=\"1\" y=\"2\" width=\"98\" height=\"14\" uuid=\"ded44765-e5c3-4461-8ba0-603b2a4b8e92\"/>\n\t\t\t\t<textFieldExpression><![CDATA[$F{courseClass.uniqueCode}]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<textField isBlankWhenNull=\"true\">\n\t\t\t\t<reportElement key=\"textField-9\" style=\"data field\" x=\"335\" y=\"2\" width=\"97\" height=\"14\" uuid=\"1a10051a-4c42-4aa0-8a5f-b6069d6cb736\"/>\n\t\t\t\t<textFieldExpression><![CDATA[$F{courseClass.room.site.name}]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<textField isBlankWhenNull=\"true\">\n\t\t\t\t<reportElement key=\"textField-10\" style=\"data field (numeric)\" x=\"435\" y=\"2\" width=\"94\" height=\"14\" uuid=\"6a403c9d-7a9d-493c-9a89-1613a735e415\"/>\n\t\t\t\t<textFieldExpression><![CDATA[$F{sessionSummary}]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<textField isBlankWhenNull=\"true\">\n\t\t\t\t<reportElement key=\"textField-14\" style=\"data field\" x=\"101\" y=\"2\" width=\"230\" height=\"14\" uuid=\"a082dbf4-f3de-49ee-a57d-3bea41b736cc\"/>\n\t\t\t\t<textFieldExpression><![CDATA[$F{courseClass.course.name}]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<textField isBlankWhenNull=\"false\">\n\t\t\t\t<reportElement key=\"textField-5\" style=\"data field (day)\" positionType=\"FixRelativeToBottom\" x=\"540\" y=\"2\" width=\"120\" height=\"14\" uuid=\"36bc6f60-29c4-4ab9-9d57-e307c8de1eb4\"/>\n\t\t\t\t<textFieldExpression><![CDATA[$F{courseClassTutor}.courseClass.startDateTime?.format(\"d MMM yyyy h:mma\", $F{courseClassTutor}.courseClass.timeZone)]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<textField isBlankWhenNull=\"false\">\n\t\t\t\t<reportElement key=\"textField-5\" style=\"data field (day)\" positionType=\"FixRelativeToBottom\" x=\"660\" y=\"2\" width=\"120\" height=\"14\" uuid=\"18129170-bf37-4389-9e5a-f5d16f3b4c31\">\n\t\t\t\t\t<property name=\"com.jaspersoft.studio.unit.width\" value=\"pixel\"/>\n\t\t\t\t</reportElement>\n\t\t\t\t<textFieldExpression><![CDATA[$F{courseClassTutor}.courseClass.endDateTime?.format(\"d MMM yyyy h:mma\", $F{courseClassTutor}.courseClass.timeZone)]]></textFieldExpression>\n\t\t\t</textField>\n\t\t</band>\n\t</detail>\n\t<pageFooter>\n\t\t<band height=\"25\" splitType=\"Stretch\">\n\t\t\t<textField evaluationTime=\"Page\" isBlankWhenNull=\"false\">\n\t\t\t\t<reportElement key=\"pageNumberFooter\" style=\"Footer strong\" x=\"0\" y=\"0\" width=\"300\" height=\"15\" uuid=\"1106d334-b156-4af7-a64d-a75ba7206e2c\"/>\n\t\t\t\t<textFieldExpression><![CDATA[\"Page \" + String.valueOf($V{PAGE_NUMBER})]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<textField evaluationTime=\"EmailTemplate\" isBlankWhenNull=\"false\">\n\t\t\t\t<reportElement key=\"totalPageCountFooter\" style=\"Footer\" x=\"0\" y=\"11\" width=\"300\" height=\"13\" uuid=\"d3e402c5-a433-4f08-90db-5c66216e08f3\"/>\n\t\t\t\t<textFieldExpression><![CDATA[$V{REPORT_COUNT} + \" record\" + ($V{REPORT_COUNT}>1 ? \"s\" : \"\") + \" on \" + $V{PAGE_NUMBER} + \" page\" + ($V{PAGE_NUMBER}>1 ? \"s\" : \"\") + \" (printed \" + new Date().format(\"E d MMM yyyy h:mma\") + \")\"]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<image scaleImage=\"RetainShape\" hAlign=\"Right\" isUsingCache=\"true\" onErrorType=\"Blank\">\n\t\t\t\t<reportElement key=\"oncourseLogo\" style=\"Footer\" x=\"472\" y=\"17\" width=\"67\" height=\"7\" uuid=\"2863530e-11e5-4c1e-8296-ae64db1a9926\"/>\n\t\t\t\t<imageExpression><![CDATA[$F{image.poweredby}]]></imageExpression>\n\t\t\t</image>\n\t\t</band>\n\t</pageFooter>\n</jasperEmailTemplate>\n",
#        "subreport":false,
#        "backgroundId":null,
#        "sortOn":"tutor.contact.lastName",
#        "preview":null,
#        "variables":[],
#        "options":[{"name":"testOptionName","label":"testOptionLabel","type":"Text","value":"testOptionValueUPD"}]
#        }
#        """
#
#        Given path ishPath
#        And request emailTemplateToUpdate
#        When method PATCH
#        Then status 204
#
##       <---> Assertions: Only "enabled" and option should be changed in this test
#        Given path ishPath + '/' + id
#        When method GET
#        Then status 200
#        And match $ contains
#        """
#        {
#        "id":#(~~id),
#        "name":"Certificate-Attainment",
#        "entity":"Certificate",
#        "enabled":false,
#        "keyCode":"ish.onCourse.certificate.attainment",
#        "description":"onCourse includes AQF recommended templates for full Qualification Certificates, Statements of Attainment and transcripts. Certificates can only be generated from units that are recorded as part of onCourse enrolments.",
#        "body":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!-- Created with Jaspersoft Studio version 6.6.0.final using JasperEmailTemplates Library version 6.1.1  -->\n<jasperEmailTemplate xmlns=\"http://jasperreports.sourceforge.net/jasperreports\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd\" name=\"CertificateAttainmentEmailTemplate\" language=\"groovy\" pageWidth=\"595\" pageHeight=\"842\" columnWidth=\"517\" leftMargin=\"39\" rightMargin=\"39\" topMargin=\"28\" bottomMargin=\"50\" whenResourceMissingType=\"Empty\" uuid=\"6fb605b7-2bf2-46d1-8131-f4ad03f6f727\">\n\t<property name=\"name\" value=\"Certificate-Attainment\"/>\n\t<property name=\"entity\" value=\"Certificate\"/>\n\t<property name=\"isSubreport\" value=\"true\"/>\n\t<property name=\"isVisible\" value=\"false\"/>\n\n\t<property name=\"keyCode\" value=\"ish.onCourse.certificate.attainment\"/>\n\t<property name=\"ish.oncourse.title\" value=\"Certificate\"/>\n\t<property name=\"ish.oncourse.filePrefix\" value=\"certificate\"/>\n\t<property name=\"ish.oncourse.description\" value=\"onCourse includes AQF recommended templates for full Qualification Certificates, Statements of Attainment and transcripts. Certificates can only be generated from units that are recorded as part of onCourse enrolments.\"/>\n\t<property name=\"ish.oncourse.pdfFileName\" value=\"Certificate.pdf\"/>\n\t<import value=\"ish.common.types.QualificationType\"/>\n\t<import value=\"net.sf.jasperreports.engine.*\"/>\n\t<import value=\"java.util.*\"/>\n\t<import value=\"net.sf.jasperreports.engine.data.*\"/>\n\t<import value=\"org.apache.commons.lang3.time.DateUtils\"/>\n\t<style name=\"default\" isDefault=\"true\" forecolor=\"#000000\" vTextAlign=\"Bottom\" markup=\"none\" fontName=\"Open Sans\" fontSize=\"9\" isBold=\"false\" isItalic=\"false\" isUnderline=\"false\" isStrikeThrough=\"false\" pdfFontName=\"OpenSans\" pdfEncoding=\"Cp1252\" isPdfEmbedded=\"true\">\n\t\t<paragraph spacingAfter=\"8\"/>\n\t</style>\n\t<style name=\"header 1\" style=\"default\" forecolor=\"#4F0018\" vTextAlign=\"Middle\" fontName=\"Open Sans Light\" fontSize=\"18\" pdfFontName=\"Open Sans Light\"/>\n\t<style name=\"header 2\" style=\"header 1\" fontSize=\"12\"/>\n\t<style name=\"header 3\" style=\"default\" vTextAlign=\"Middle\" fontName=\"Open Sans Semibold\" pdfFontName=\"Open Sans Semibold\"/>\n\t<style name=\"header 3 (right)\" style=\"header 3\" hTextAlign=\"Right\"/>\n\t<style name=\"Label\" style=\"default\" forecolor=\"#6A7E99\"/>\n\t<style name=\"Label right\" style=\"Label\" hTextAlign=\"Right\"/>\n\t<style name=\"data field\" style=\"default\"/>\n\t<style name=\"data field (money)\" style=\"data field\" hTextAlign=\"Right\" pattern=\"¤#,###,##0.00;¤(-#,###,##0.00)\"/>\n\t<style name=\"data field (numeric)\" style=\"data field\" hTextAlign=\"Right\"/>\n\t<style name=\"data field (datetime)\" style=\"data field\" pattern=\"d MMM yyyy h:mma\"/>\n\t<style name=\"data field (day)\" style=\"data field\" pattern=\"E d MMM h:mma\"/>\n\t<style name=\"data field (date)\" style=\"data field\" pattern=\"d MMM yyyy\"/>\n\t<style name=\"Footer\" style=\"default\" forecolor=\"#737373\" fontSize=\"8\"/>\n\t<style name=\"Footer strong\" style=\"Footer\" fontName=\"Open Sans Semibold\" pdfFontName=\"Open Sans Semibold\"/>\n\t<style name=\"subHead box\" style=\"default\" backcolor=\"#E6E7F0\"/>\n\t<style name=\"crosstab\" mode=\"Opaque\" backcolor=\"#F7F2E9\">\n\t\t<box>\n\t\t\t<topPen lineWidth=\"0.0\" lineStyle=\"Solid\" lineColor=\"#A3A3A3\"/>\n\t\t\t<leftPen lineWidth=\"0.2\" lineStyle=\"Solid\" lineColor=\"#A3A3A3\"/>\n\t\t\t<bottomPen lineWidth=\"0.2\" lineStyle=\"Solid\" lineColor=\"#A3A3A3\"/>\n\t\t\t<rightPen lineWidth=\"0.0\" lineStyle=\"Solid\" lineColor=\"#A3A3A3\"/>\n\t\t</box>\n\t\t<conditionalStyle>\n\t\t\t<conditionExpression><![CDATA[$V{ROW_COUNT}.intValue() % 2 == 1 ? Boolean.TRUE : Boolean.FALSE]]></conditionExpression>\n\t\t\t<style mode=\"Opaque\" backcolor=\"#FFFFFF\"/>\n\t\t</conditionalStyle>\n\t</style>\n\t<style name=\"alternateRow\" mode=\"Opaque\" forecolor=\"rgba(255, 255, 255, 0.0)\" backcolor=\"#F7F2E9\">\n\t\t<box>\n\t\t\t<topPen lineWidth=\"0.0\" lineStyle=\"Solid\" lineColor=\"#000000\"/>\n\t\t\t<leftPen lineWidth=\"0.0\" lineStyle=\"Solid\" lineColor=\"#000000\"/>\n\t\t\t<bottomPen lineWidth=\"0.0\" lineStyle=\"Solid\" lineColor=\"#000000\"/>\n\t\t\t<rightPen lineWidth=\"0.0\" lineStyle=\"Solid\" lineColor=\"#000000\"/>\n\t\t</box>\n\t\t<conditionalStyle>\n\t\t\t<conditionExpression><![CDATA[$V{PAGE_COUNT}.intValue() % 2 == 1 ? Boolean.TRUE : Boolean.FALSE]]></conditionExpression>\n\t\t\t<style mode=\"Opaque\" backcolor=\"#FFFFFF\"/>\n\t\t</conditionalStyle>\n\t</style>\n\t<parameter name=\"EmailTemplateName\" class=\"java.lang.String\"/>\n\t<field name=\"global.print_qr_code\" class=\"java.lang.Boolean\"/>\n\t<field name=\"certificate\" class=\"ish.oncourse.server.cayenne.Certificate\"/>\n\t<field name=\"datasource.successfulOutcomes\" class=\"net.sf.jasperreports.engine.JRDataSource\"/>\n\t<field name=\"subreport.ish.onCourse.certificate.attainment.subreport\" class=\"net.sf.jasperreports.engine.JasperEmailTemplate\"/>\n\t<field name=\"image.logo-nrt\" class=\"java.io.InputStream\"/>\n\t<field name=\"image.logo-VETAB\" class=\"java.io.InputStream\"/>\n\t<field name=\"pref.avetmiss.address.postcode\" class=\"java.lang.String\"/>\n\t<field name=\"pref.avetmiss.certificate.signatory.name\" class=\"java.lang.String\"/>\n\t<field name=\"pref.avetmiss.collegename\" class=\"java.lang.Object\"/>\n\t<field name=\"pref.avetmiss.identifier\" class=\"java.lang.Object\"/>\n\t<filterExpression><![CDATA[!$F{certificate}.isQualification]]></filterExpression>\n\t<pageHeader>\n\t\t<band height=\"255\" splitType=\"Stretch\">\n\t\t\t<staticText>\n\t\t\t\t<reportElement key=\"staticText-5\" style=\"header 2\" x=\"0\" y=\"122\" width=\"517\" height=\"22\" uuid=\"5c18cf0b-431e-4a42-b80e-403b1f8fed6b\"/>\n\t\t\t\t<textElement textAlignment=\"Center\"/>\n\t\t\t\t<text><![CDATA[Statement of Attainment]]></text>\n\t\t\t</staticText>\n\t\t\t<staticText>\n\t\t\t\t<reportElement key=\"staticText-6\" style=\"Footer\" x=\"0\" y=\"144\" width=\"517\" height=\"22\" uuid=\"70daa157-00ae-40e7-ba07-d8e84ae671d3\"/>\n\t\t\t\t<textElement textAlignment=\"Center\"/>\n\t\t\t\t<text><![CDATA[A Statement of Attainment is issued by a Registered Training Organisation when an individual has completed one or more accredited units]]></text>\n\t\t\t</staticText>\n\t\t\t<staticText>\n\t\t\t\t<reportElement key=\"staticText-6\" style=\"Footer\" x=\"0\" y=\"193\" width=\"517\" height=\"12\" uuid=\"e30d3b41-b8d3-4328-b2ef-f68d9707230d\"/>\n\t\t\t\t<textElement textAlignment=\"Center\"/>\n\t\t\t\t<text><![CDATA[This is a statement that]]></text>\n\t\t\t</staticText>\n\t\t\t<textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\">\n\t\t\t\t<reportElement key=\"textField-9\" style=\"header 1\" x=\"0\" y=\"205\" width=\"517\" height=\"30\" uuid=\"f6403fec-6767-4f63-8727-471bd549c960\"/>\n\t\t\t\t<textElement textAlignment=\"Center\">\n\t\t\t\t\t<font size=\"16\"/>\n\t\t\t\t</textElement>\n\t\t\t\t<textFieldExpression><![CDATA[(($F{certificate}.student.contact.firstName == $F{certificate}.student.contact.lastName) ? $F{certificate}.student.contact.lastName : $F{certificate}.student.contact.fullName)]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<staticText>\n\t\t\t\t<reportElement key=\"staticText-8\" style=\"Footer\" x=\"0\" y=\"239\" width=\"517\" height=\"12\" uuid=\"8664d378-2438-4920-9989-7f78d0c377e7\"/>\n\t\t\t\t<textElement textAlignment=\"Center\"/>\n\t\t\t\t<text><![CDATA[has attained]]></text>\n\t\t\t</staticText>\n\t\t</band>\n\t</pageHeader>\n\t<detail>\n\t\t<band height=\"29\" splitType=\"Stretch\">\n\t\t\t<subreport isUsingCache=\"true\">\n\t\t\t\t<reportElement key=\"subreport-2\" stretchType=\"RelativeToBandHeight\" isPrintRepeatedValues=\"false\" mode=\"Transparent\" x=\"0\" y=\"0\" width=\"517\" height=\"29\" isRemoveLineWhenBlank=\"true\" uuid=\"255c13d9-944d-442f-9ecb-3dc928e54033\"/>\n\t\t\t\t<dataSourceExpression><![CDATA[$F{datasource.successfulOutcomes}]]></dataSourceExpression>\n\t\t\t\t<subreportExpression><![CDATA[$F{subreport.ish.onCourse.certificate.attainment.subreport}]]></subreportExpression>\n\t\t\t</subreport>\n\t\t</band>\n\t</detail>\n\t<pageFooter>\n\t\t<band height=\"365\" splitType=\"Stretch\">\n\t\t\t<property name=\"com.jaspersoft.studio.unit.height\" value=\"pixel\"/>\n\t\t\t<textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\">\n\t\t\t\t<reportElement key=\"textField-10\" style=\"Footer\" x=\"0\" y=\"9\" width=\"517\" height=\"26\" uuid=\"a6e22d70-88ee-42c5-863a-3d7161ab59d9\">\n\t\t\t\t\t<printWhenExpression><![CDATA[![QualificationType.SKILLSET_TYPE, QualificationType.SKILLSET_LOCAL_TYPE].contains($F{certificate}.qualification.type)]]></printWhenExpression>\n\t\t\t\t</reportElement>\n\t\t\t\t<textElement textAlignment=\"Center\"/>\n\t\t\t\t<textFieldExpression><![CDATA[$F{certificate}.qualification.nationalCode ? \"These competencies form part of the\" : \"\"]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\">\n\t\t\t\t<reportElement key=\"textField-11\" style=\"header 2\" positionType=\"Float\" x=\"0\" y=\"40\" width=\"517\" height=\"23\" uuid=\"0ebbea2a-643f-4c2d-8687-51ad41d2875f\">\n\t\t\t\t\t<printWhenExpression><![CDATA[![QualificationType.SKILLSET_TYPE, QualificationType.SKILLSET_LOCAL_TYPE].contains($F{certificate}.qualification.type)]]></printWhenExpression>\n\t\t\t\t</reportElement>\n\t\t\t\t<textElement textAlignment=\"Center\"/>\n\t\t\t\t<textFieldExpression><![CDATA[$F{certificate}.qualification.nationalCode ? [$F{certificate}.qualification.nationalCode, $F{certificate}.qualification.level, $F{certificate}.qualification.title].findAll().join(\" \") : \"\"]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\">\n\t\t\t\t<reportElement key=\"textField-11\" style=\"header 2\" positionType=\"Float\" x=\"0\" y=\"64\" width=\"517\" height=\"23\" uuid=\"a80c631f-ee6e-4e91-af42-135a4dd7b88f\"/>\n\t\t\t\t<textElement textAlignment=\"Center\"/>\n\t\t\t\t<textFieldExpression><![CDATA[$F{certificate}.publicNotes ?: \"\"]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<line>\n\t\t\t\t<reportElement key=\"line-1\" style=\"Footer\" positionType=\"FixRelativeToBottom\" x=\"292\" y=\"155\" width=\"202\" height=\"1\" uuid=\"14410222-8af4-4a19-b4b1-c10936fd8767\"/>\n\t\t\t\t<graphicElement>\n\t\t\t\t\t<pen lineWidth=\"0.5\"/>\n\t\t\t\t</graphicElement>\n\t\t\t</line>\n\t\t\t<textField>\n\t\t\t\t<reportElement style=\"Footer\" x=\"293\" y=\"155\" width=\"201\" height=\"25\" uuid=\"cc3afccf-4cd2-4846-a967-1b00cf68942a\"/>\n\t\t\t\t<textElement verticalAlignment=\"Middle\">\n\t\t\t\t\t<font size=\"12\"/>\n\t\t\t\t</textElement>\n\t\t\t\t<textFieldExpression><![CDATA[$F{pref.avetmiss.certificate.signatory.name} == null ? \"Principal\":$F{pref.avetmiss.certificate.signatory.name}]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<staticText>\n\t\t\t\t<reportElement style=\"Label\" x=\"293\" y=\"184\" width=\"66\" height=\"13\" uuid=\"d57ae32e-cee9-48f9-8391-f5d91431f8e7\"/>\n\t\t\t\t<text><![CDATA[Awarded]]></text>\n\t\t\t</staticText>\n\t\t\t<textField evaluationTime=\"EmailTemplate\" pattern=\"d MMM yyyy\" isBlankWhenNull=\"false\">\n\t\t\t\t<reportElement key=\"textField\" style=\"data field (date)\" positionType=\"FixRelativeToBottom\" isPrintRepeatedValues=\"false\" x=\"359\" y=\"184\" width=\"71\" height=\"13\" uuid=\"0b764f68-5c5b-4460-aad5-197c244d48da\"/>\n\t\t\t\t<textFieldExpression><![CDATA[$F{certificate}.awardedOn]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<staticText>\n\t\t\t\t<reportElement style=\"Label\" x=\"293\" y=\"197\" width=\"66\" height=\"13\" uuid=\"e5ada32c-7328-4062-9ba7-f649450c7c53\">\n\t\t\t\t\t<printWhenExpression><![CDATA[$F{certificate}.issuedOn != null]]></printWhenExpression>\n\t\t\t\t</reportElement>\n\t\t\t\t<text><![CDATA[Issued]]></text>\n\t\t\t</staticText>\n\t\t\t<textField evaluationTime=\"EmailTemplate\" pattern=\"d MMM yyyy\" isBlankWhenNull=\"false\">\n\t\t\t\t<reportElement key=\"textField\" style=\"data field (date)\" positionType=\"FixRelativeToBottom\" isPrintRepeatedValues=\"false\" x=\"359\" y=\"197\" width=\"71\" height=\"13\" uuid=\"56bbe1c2-5cc2-4c6c-ac94-d9641779daf3\">\n\t\t\t\t\t<printWhenExpression><![CDATA[$F{certificate}.issuedOn != null]]></printWhenExpression>\n\t\t\t\t</reportElement>\n\t\t\t\t<textFieldExpression><![CDATA[$F{certificate}.issuedOn]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<staticText>\n\t\t\t\t<reportElement key=\"staticText-11\" style=\"Label\" x=\"293\" y=\"210\" width=\"66\" height=\"13\" uuid=\"ead876be-b401-47cc-b24a-21577df4458f\"/>\n\t\t\t\t<text><![CDATA[Certificate]]></text>\n\t\t\t</staticText>\n\t\t\t<textField isBlankWhenNull=\"false\">\n\t\t\t\t<reportElement key=\"textField-17\" style=\"data field\" x=\"359\" y=\"210\" width=\"71\" height=\"13\" uuid=\"bbac1ff6-6e80-4511-a562-c97781841889\"/>\n\t\t\t\t<textFieldExpression><![CDATA[$F{certificate}.certificateNumber + ($F{certificate}.successfulOutcomes.size() > 4 ? \"/\" + $V{PAGE_NUMBER} : \"\")]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<staticText>\n\t\t\t\t<reportElement key=\"staticText-11\" style=\"Label\" x=\"293\" y=\"223\" width=\"66\" height=\"13\" uuid=\"70a9058b-eec7-4368-8329-94be0b9bf411\"/>\n\t\t\t\t<text><![CDATA[Printed]]></text>\n\t\t\t</staticText>\n\t\t\t<textField pattern=\"d MMM yyyy\" isBlankWhenNull=\"false\">\n\t\t\t\t<reportElement key=\"textField-17\" style=\"data field (date)\" x=\"359\" y=\"223\" width=\"71\" height=\"13\" uuid=\"3ab18680-6f57-45a6-b2bd-861cb7e3d869\"/>\n\t\t\t\t<textFieldExpression><![CDATA[$F{certificate}.printedOn]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<image hyperlinkType=\"Reference\">\n\t\t\t\t<reportElement x=\"450\" y=\"295\" width=\"70\" height=\"70\" uuid=\"08f3bdc4-b8ac-41c2-b7f2-9d0b24769003\">\n\t\t\t\t\t<property name=\"local_mesure_unitwidth\" value=\"pixel\"/>\n\t\t\t\t\t<property name=\"com.jaspersoft.studio.unit.width\" value=\"px\"/>\n\t\t\t\t\t<property name=\"local_mesure_unitheight\" value=\"pixel\"/>\n\t\t\t\t\t<property name=\"com.jaspersoft.studio.unit.height\" value=\"px\"/>\n\t\t\t\t\t<printWhenExpression><![CDATA[$F{global.print_qr_code}]]></printWhenExpression>\n\t\t\t\t</reportElement>\n\t\t\t\t<imageExpression><![CDATA[$F{certificate}.getQRCodeImage()]]></imageExpression>\n\t\t\t\t<hyperlinkReferenceExpression><![CDATA[\"http://www.skills.courses/\" + $F{certificate}.qrUniqueCode.toString()]]></hyperlinkReferenceExpression>\n\t\t\t</image>\n\t\t\t<staticText>\n\t\t\t\t<reportElement x=\"450\" y=\"274\" width=\"58\" height=\"22\" uuid=\"6c03b11a-2a60-4b75-b2f7-95aac2ceb74e\">\n\t\t\t\t\t<printWhenExpression><![CDATA[$F{global.print_qr_code}]]></printWhenExpression>\n\t\t\t\t</reportElement>\n\t\t\t\t<textElement textAlignment=\"Right\" verticalAlignment=\"Middle\">\n\t\t\t\t\t<font fontName=\"Open Sans\" size=\"8\" isBold=\"true\" pdfFontName=\"Open Sans\"/>\n\t\t\t\t</textElement>\n\t\t\t\t<text><![CDATA[Certificate verification]]></text>\n\t\t\t</staticText>\n\t\t\t<textField>\n\t\t\t\t<reportElement x=\"450\" y=\"295\" width=\"58\" height=\"10\" uuid=\"3be9e0a1-3f74-4bef-b95d-a4502cc3b2d8\">\n\t\t\t\t\t<printWhenExpression><![CDATA[$F{global.print_qr_code}]]></printWhenExpression>\n\t\t\t\t</reportElement>\n\t\t\t\t<textElement textAlignment=\"Right\" verticalAlignment=\"Middle\">\n\t\t\t\t\t<font fontName=\"Open Sans\" size=\"7\" pdfFontName=\"Open Sans\"/>\n\t\t\t\t</textElement>\n\t\t\t\t<textFieldExpression><![CDATA[$F{certificate}.qrUniqueCode]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<staticText>\n\t\t\t\t<reportElement x=\"507\" y=\"270\" width=\"15\" height=\"90\" forecolor=\"#1E1061\" uuid=\"4506888e-654d-47a3-ba7e-fcc9d6a03b1f\">\n\t\t\t\t\t<printWhenExpression><![CDATA[$F{global.print_qr_code}]]></printWhenExpression>\n\t\t\t\t</reportElement>\n\t\t\t\t<textElement textAlignment=\"Center\" verticalAlignment=\"Top\" rotation=\"Right\">\n\t\t\t\t\t<font fontName=\"Open Sans\" size=\"8\" isBold=\"true\" pdfFontName=\"Open Sans\"/>\n\t\t\t\t</textElement>\n\t\t\t\t<text><![CDATA[www.skills.courses]]></text>\n\t\t\t</staticText>\n\t\t</band>\n\t</pageFooter>\n\t<summary>\n\t\t<band splitType=\"Stretch\"/>\n\t</summary>\n</jasperEmailTemplate>\n",
#        "subreport":false,
#        "backgroundId":null,
#        "sortOn":"",
#        "preview":null,
#        "variables":[],
#        "options":[{"name":"testOptionName","label":"testOptionLabel","type":"Text","value":"testOptionValueUPD","system":null,"valueDefault":null}],
#        "createdOn":"#ignore",
#        "modifiedOn":"#ignore"
#        }
#        """
#
##       <--->  Scenario have been finished. Now change back object to default:
#        * def reportToDefault = {"id":"#(~~id)","enabled":true,"options":[{"name":"testOptionName","label":"testOptionLabel","type":"Text","value":"testOptionValue"}]}
#
#        Given path ishPath
#        And request reportToDefault
#        When method PATCH
#        Then status 204



#    Scenario: (+) Update system EmailTemplate by notadmin with access rights
#
#        Given path ishPathList
#        And param entity = 'EmailTemplate'
#        And param pageSize = 65000
#        And param offset = 0
#        And param columns = 'name'
#        When method GET
#        Then status 200
#
#        * def id = get[0] response.rows[?(@.values == ['Class Tutor List'])].id
#        * print "id = " + id
#
##       <--->  Login as notadmin
#        * def loginBody = {login: 'UserWithRightsEdit', password: 'password', kickOut: 'true', skipTfa: 'true'}
#
#        Given path '/login'
#        And request loginBody
#        When method PUT
#        Then status 200
##       <--->
#
#        * def emailTemplateToUpdate =
#        """
#        {
#        "id":"#(id)",
#        "name":"Class Tutor List UPD",
#        "entity":"Account",
#        "enabled":false,
#        "keyCode":"ish.onCourse.classTutorListEmailTemplateUPD",
#        "description":"UPD To obtain an overview of classes scheduled for each tutor. This report also provides the total hours the tutor is scheduled to teach for each class, which can be used for payroll purposes.This report prints in Landscape format.",
#        "body":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!-- UPD Created with Jaspersoft Studio version 6.1.0.final using JasperEmailTemplates Library version 6.1.0  -->\n<jasperEmailTemplate xmlns=\"http://jasperreports.sourceforge.net/jasperreports\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd\" name=\"ClassTutorList\" language=\"groovy\" pageWidth=\"842\" pageHeight=\"595\" orientation=\"Landscape\" columnWidth=\"786\" leftMargin=\"28\" rightMargin=\"28\" topMargin=\"28\" bottomMargin=\"28\" uuid=\"6d9bff41-6ce8-4b6f-9a2e-5aa72101b0a4\">\n\t<property name=\"name\" value=\"Class Tutor List\"/>\n\t<property name=\"entity\" value=\"CourseClassTutor\"/>\n\t<property name=\"isSubreport\" value=\"false\"/>\n\t<property name=\"isVisible\" value=\"true\"/>\n\n\t<property name=\"keyCode\" value=\"ish.onCourse.classTutorListEmailTemplate\"/>\n\t<property name=\"ish.oncourse.description\" value=\"To obtain an overview of classes scheduled for each tutor. This report also provides the total hours the tutor is scheduled to teach for each class, which can be used for payroll purposes.This report prints in Landscape format.\"/>\n\t<property name=\"sortOn\" value=\"tutor.contact.lastName\"/>\n\t<property name=\"ish.oncourse.reports.isObjectOnSeparatePage\" value=\"false\"/>\n\t<import value=\"net.sf.jasperreports.engine.*\"/>\n\t<import value=\"java.util.*\"/>\n\t<import value=\"net.sf.jasperreports.engine.data.*\"/>\n\t<style name=\"default\" isDefault=\"true\" forecolor=\"#000000\" vTextAlign=\"Bottom\" markup=\"none\" fontName=\"Open Sans\" fontSize=\"9\" isBold=\"false\" isItalic=\"false\" isUnderline=\"false\" isStrikeThrough=\"false\" pdfFontName=\"OpenSans\" pdfEncoding=\"Cp1252\" isPdfEmbedded=\"true\">\n\t\t<paragraph spacingAfter=\"8\"/>\n\t</style>\n\t<style name=\"header 1\" style=\"default\" forecolor=\"#4F0018\" vTextAlign=\"Middle\" fontName=\"Open Sans Light\" fontSize=\"18\" pdfFontName=\"Open Sans Light\"/>\n\t<style name=\"header 2\" style=\"header 1\" fontSize=\"12\"/>\n\t<style name=\"header 3\" style=\"default\" vTextAlign=\"Middle\" fontName=\"Open Sans Semibold\" pdfFontName=\"Open Sans Semibold\"/>\n\t<style name=\"header 3 (right)\" style=\"header 3\" hTextAlign=\"Right\"/>\n\t<style name=\"Label\" style=\"default\" forecolor=\"#6A7E99\"/>\n\t<style name=\"Label right\" style=\"Label\" hTextAlign=\"Right\"/>\n\t<style name=\"data field\" style=\"default\"/>\n\t<style name=\"data field (money)\" style=\"data field\" hTextAlign=\"Right\" pattern=\"¤#,###,##0.00;¤(-#,###,##0.00)\"/>\n\t<style name=\"data field (numeric)\" style=\"data field\" hTextAlign=\"Right\"/>\n\t<style name=\"data field (datetime)\" style=\"data field\" pattern=\"d MMM yyyy h:mma\"/>\n\t<style name=\"data field (day)\" style=\"data field\" pattern=\"E d MMM h:mma\"/>\n\t<style name=\"data field (date)\" style=\"data field\" pattern=\"d MMM yyyy\"/>\n\t<style name=\"Footer\" style=\"default\" forecolor=\"#737373\" fontSize=\"8\"/>\n\t<style name=\"Footer strong\" style=\"Footer\" fontName=\"Open Sans Semibold\" pdfFontName=\"Open Sans Semibold\"/>\n\t<style name=\"subHead box\" style=\"default\" backcolor=\"#E6E7F0\"/>\n\t<style name=\"crosstab\" mode=\"Opaque\" backcolor=\"#F7F2E9\">\n\t\t<box>\n\t\t\t<topPen lineWidth=\"0.0\" lineStyle=\"Solid\" lineColor=\"#A3A3A3\"/>\n\t\t\t<leftPen lineWidth=\"0.2\" lineStyle=\"Solid\" lineColor=\"#A3A3A3\"/>\n\t\t\t<bottomPen lineWidth=\"0.2\" lineStyle=\"Solid\" lineColor=\"#A3A3A3\"/>\n\t\t\t<rightPen lineWidth=\"0.0\" lineStyle=\"Solid\" lineColor=\"#A3A3A3\"/>\n\t\t</box>\n\t\t<conditionalStyle>\n\t\t\t<conditionExpression><![CDATA[$V{ROW_COUNT}.intValue() % 2 == 1 ? Boolean.TRUE : Boolean.FALSE]]></conditionExpression>\n\t\t\t<style mode=\"Opaque\" backcolor=\"#FFFFFF\"/>\n\t\t</conditionalStyle>\n\t</style>\n\t<style name=\"alternateRow\" mode=\"Opaque\" forecolor=\"rgba(255, 255, 255, 0.0)\" backcolor=\"#F7F2E9\">\n\t\t<box>\n\t\t\t<topPen lineWidth=\"0.0\" lineStyle=\"Solid\" lineColor=\"#000000\"/>\n\t\t\t<leftPen lineWidth=\"0.0\" lineStyle=\"Solid\" lineColor=\"#000000\"/>\n\t\t\t<bottomPen lineWidth=\"0.0\" lineStyle=\"Solid\" lineColor=\"#000000\"/>\n\t\t\t<rightPen lineWidth=\"0.0\" lineStyle=\"Solid\" lineColor=\"#000000\"/>\n\t\t</box>\n\t\t<conditionalStyle>\n\t\t\t<conditionExpression><![CDATA[$V{PAGE_COUNT}.intValue() % 2 == 1 ? Boolean.TRUE : Boolean.FALSE]]></conditionExpression>\n\t\t\t<style mode=\"Opaque\" backcolor=\"#FFFFFF\"/>\n\t\t</conditionalStyle>\n\t</style>\n\t<parameter name=\"EmailTemplateName\" class=\"java.lang.String\" isForPrompting=\"false\"/>\n\t<field name=\"courseClassTutor\" class=\"ish.oncourse.server.cayenne.CourseClassTutor\"/>\n\t<field name=\"courseClass.course.name\" class=\"java.lang.String\"/>\n\t<field name=\"courseClass.uniqueCode\" class=\"java.lang.String\"/>\n\t<field name=\"courseClass.room.site.name\" class=\"java.lang.String\"/>\n\t<field name=\"sessionSummary\" class=\"java.lang.String\"/>\n\t<field name=\"tutor.contact.lastName\" class=\"java.lang.String\"/>\n\t<field name=\"tutor.id\" class=\"java.lang.Long\"/>\n\t<field name=\"image.poweredby\" class=\"java.io.InputStream\"/>\n\t<group name=\"tutorGroup\">\n\t\t<groupExpression><![CDATA[$F{tutor.id}]]></groupExpression>\n\t\t<groupHeader>\n\t\t\t<band height=\"22\" splitType=\"Stretch\">\n\t\t\t\t<textField isBlankWhenNull=\"true\">\n\t\t\t\t\t<reportElement key=\"textField-13\" style=\"header 2\" x=\"0\" y=\"1\" width=\"776\" height=\"20\" uuid=\"248bc72a-7a56-417d-9137-98778109aa1c\">\n\t\t\t\t\t\t<property name=\"com.jaspersoft.studio.unit.height\" value=\"pixel\"/>\n\t\t\t\t\t</reportElement>\n\t\t\t\t\t<textFieldExpression><![CDATA[$F{courseClassTutor}.tutor.contact.fullName]]></textFieldExpression>\n\t\t\t\t</textField>\n\t\t\t</band>\n\t\t</groupHeader>\n\t\t<groupFooter>\n\t\t\t<band splitType=\"Stretch\"/>\n\t\t</groupFooter>\n\t</group>\n\t<background>\n\t\t<band splitType=\"Stretch\"/>\n\t</background>\n\t<title>\n\t\t<band height=\"141\" splitType=\"Stretch\">\n\t\t\t<property name=\"com.jaspersoft.studio.unit.height\" value=\"pixel\"/>\n\t\t\t<textField isBlankWhenNull=\"false\">\n\t\t\t\t<reportElement key=\"textField-1\" style=\"header 1\" x=\"0\" y=\"115\" width=\"781\" height=\"26\" uuid=\"14d5982e-c377-41a5-950a-d4e4ddf3688a\"/>\n\t\t\t\t<textFieldExpression><![CDATA[$P{EmailTemplateName}]]></textFieldExpression>\n\t\t\t</textField>\n\t\t</band>\n\t</title>\n\t<columnHeader>\n\t\t<band height=\"38\" splitType=\"Stretch\">\n\t\t\t<property name=\"com.jaspersoft.studio.unit.height\" value=\"pixel\"/>\n\t\t\t<rectangle>\n\t\t\t\t<reportElement x=\"0\" y=\"18\" width=\"782\" height=\"20\" backcolor=\"#E6E7F0\" uuid=\"8c67e938-5c56-4f18-9dc5-1b193c87ab08\">\n\t\t\t\t\t<property name=\"com.jaspersoft.studio.unit.height\" value=\"mm\"/>\n\t\t\t\t</reportElement>\n\t\t\t\t<graphicElement>\n\t\t\t\t\t<pen lineWidth=\"0.0\"/>\n\t\t\t\t</graphicElement>\n\t\t\t</rectangle>\n\t\t\t<staticText>\n\t\t\t\t<reportElement key=\"staticText-1\" style=\"header 3\" x=\"1\" y=\"21\" width=\"98\" height=\"15\" uuid=\"77445e88-ba47-462d-81b9-2b8bb977efde\"/>\n\t\t\t\t<text><![CDATA[Code]]></text>\n\t\t\t</staticText>\n\t\t\t<staticText>\n\t\t\t\t<reportElement key=\"staticText-4\" style=\"header 3\" x=\"335\" y=\"21\" width=\"96\" height=\"15\" uuid=\"a83682c4-d554-4788-b8d8-aa685c1ace1f\"/>\n\t\t\t\t<text><![CDATA[Site]]></text>\n\t\t\t</staticText>\n\t\t\t<staticText>\n\t\t\t\t<reportElement key=\"staticText-5\" style=\"header 3 (right)\" x=\"435\" y=\"21\" width=\"94\" height=\"15\" uuid=\"549e85bd-76cd-4445-8066-cc629185cfe7\"/>\n\t\t\t\t<text><![CDATA[Sessions (hours)]]></text>\n\t\t\t</staticText>\n\t\t\t<staticText>\n\t\t\t\t<reportElement key=\"staticText-6\" style=\"header 3\" x=\"101\" y=\"21\" width=\"230\" height=\"15\" uuid=\"33e0e540-0566-42c9-8bf2-37749187a7cf\"/>\n\t\t\t\t<text><![CDATA[Name]]></text>\n\t\t\t</staticText>\n\t\t\t<staticText>\n\t\t\t\t<reportElement key=\"staticText-5\" style=\"header 3\" x=\"540\" y=\"21\" width=\"120\" height=\"15\" uuid=\"5d810410-39e8-4f39-9515-d480bcdb4fcb\"/>\n\t\t\t\t<text><![CDATA[Start Date]]></text>\n\t\t\t</staticText>\n\t\t\t<staticText>\n\t\t\t\t<reportElement key=\"staticText-5\" style=\"header 3\" x=\"660\" y=\"21\" width=\"120\" height=\"15\" uuid=\"ca6809f6-5e6d-43cf-8207-10e5e384c200\"/>\n\t\t\t\t<text><![CDATA[End Date]]></text>\n\t\t\t</staticText>\n\t\t</band>\n\t</columnHeader>\n\t<detail>\n\t\t<band height=\"20\" splitType=\"Stretch\">\n\t\t\t<rectangle>\n\t\t\t\t<reportElement style=\"alternateRow\" stretchType=\"RelativeToBandHeight\" x=\"0\" y=\"0\" width=\"782\" height=\"20\" uuid=\"a87378e6-6fb5-4e04-8263-06c8eb5c14a4\">\n\t\t\t\t\t<property name=\"com.jaspersoft.studio.unit.x\" value=\"mm\"/>\n\t\t\t\t</reportElement>\n\t\t\t</rectangle>\n\t\t\t<textField isBlankWhenNull=\"true\">\n\t\t\t\t<reportElement key=\"textField-6\" style=\"data field\" x=\"1\" y=\"2\" width=\"98\" height=\"14\" uuid=\"ded44765-e5c3-4461-8ba0-603b2a4b8e92\"/>\n\t\t\t\t<textFieldExpression><![CDATA[$F{courseClass.uniqueCode}]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<textField isBlankWhenNull=\"true\">\n\t\t\t\t<reportElement key=\"textField-9\" style=\"data field\" x=\"335\" y=\"2\" width=\"97\" height=\"14\" uuid=\"1a10051a-4c42-4aa0-8a5f-b6069d6cb736\"/>\n\t\t\t\t<textFieldExpression><![CDATA[$F{courseClass.room.site.name}]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<textField isBlankWhenNull=\"true\">\n\t\t\t\t<reportElement key=\"textField-10\" style=\"data field (numeric)\" x=\"435\" y=\"2\" width=\"94\" height=\"14\" uuid=\"6a403c9d-7a9d-493c-9a89-1613a735e415\"/>\n\t\t\t\t<textFieldExpression><![CDATA[$F{sessionSummary}]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<textField isBlankWhenNull=\"true\">\n\t\t\t\t<reportElement key=\"textField-14\" style=\"data field\" x=\"101\" y=\"2\" width=\"230\" height=\"14\" uuid=\"a082dbf4-f3de-49ee-a57d-3bea41b736cc\"/>\n\t\t\t\t<textFieldExpression><![CDATA[$F{courseClass.course.name}]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<textField isBlankWhenNull=\"false\">\n\t\t\t\t<reportElement key=\"textField-5\" style=\"data field (day)\" positionType=\"FixRelativeToBottom\" x=\"540\" y=\"2\" width=\"120\" height=\"14\" uuid=\"36bc6f60-29c4-4ab9-9d57-e307c8de1eb4\"/>\n\t\t\t\t<textFieldExpression><![CDATA[$F{courseClassTutor}.courseClass.startDateTime?.format(\"d MMM yyyy h:mma\", $F{courseClassTutor}.courseClass.timeZone)]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<textField isBlankWhenNull=\"false\">\n\t\t\t\t<reportElement key=\"textField-5\" style=\"data field (day)\" positionType=\"FixRelativeToBottom\" x=\"660\" y=\"2\" width=\"120\" height=\"14\" uuid=\"18129170-bf37-4389-9e5a-f5d16f3b4c31\">\n\t\t\t\t\t<property name=\"com.jaspersoft.studio.unit.width\" value=\"pixel\"/>\n\t\t\t\t</reportElement>\n\t\t\t\t<textFieldExpression><![CDATA[$F{courseClassTutor}.courseClass.endDateTime?.format(\"d MMM yyyy h:mma\", $F{courseClassTutor}.courseClass.timeZone)]]></textFieldExpression>\n\t\t\t</textField>\n\t\t</band>\n\t</detail>\n\t<pageFooter>\n\t\t<band height=\"25\" splitType=\"Stretch\">\n\t\t\t<textField evaluationTime=\"Page\" isBlankWhenNull=\"false\">\n\t\t\t\t<reportElement key=\"pageNumberFooter\" style=\"Footer strong\" x=\"0\" y=\"0\" width=\"300\" height=\"15\" uuid=\"1106d334-b156-4af7-a64d-a75ba7206e2c\"/>\n\t\t\t\t<textFieldExpression><![CDATA[\"Page \" + String.valueOf($V{PAGE_NUMBER})]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<textField evaluationTime=\"EmailTemplate\" isBlankWhenNull=\"false\">\n\t\t\t\t<reportElement key=\"totalPageCountFooter\" style=\"Footer\" x=\"0\" y=\"11\" width=\"300\" height=\"13\" uuid=\"d3e402c5-a433-4f08-90db-5c66216e08f3\"/>\n\t\t\t\t<textFieldExpression><![CDATA[$V{REPORT_COUNT} + \" record\" + ($V{REPORT_COUNT}>1 ? \"s\" : \"\") + \" on \" + $V{PAGE_NUMBER} + \" page\" + ($V{PAGE_NUMBER}>1 ? \"s\" : \"\") + \" (printed \" + new Date().format(\"E d MMM yyyy h:mma\") + \")\"]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<image scaleImage=\"RetainShape\" hAlign=\"Right\" isUsingCache=\"true\" onErrorType=\"Blank\">\n\t\t\t\t<reportElement key=\"oncourseLogo\" style=\"Footer\" x=\"472\" y=\"17\" width=\"67\" height=\"7\" uuid=\"2863530e-11e5-4c1e-8296-ae64db1a9926\"/>\n\t\t\t\t<imageExpression><![CDATA[$F{image.poweredby}]]></imageExpression>\n\t\t\t</image>\n\t\t</band>\n\t</pageFooter>\n</jasperEmailTemplate>\n",
#        "subreport":false,
#        "backgroundId":null,
#        "sortOn":"tutor.contact.lastName",
#        "preview":null,
#        "variables":[],
#        "options":[]
#        }
#        """
#
##       <---> Assertions: No one field should not be changed in this test
#        Given path ishPath + '/' + id
#        When method GET
#        Then status 200
#        And match $ contains
#        """
#        {
#        "id":"#number",
#        "name":"Class Tutor List",
#        "entity":"CourseClassTutor",
#        "enabled":true,
#        "keyCode":"ish.onCourse.classTutorListEmailTemplate",
#        "description":"To obtain an overview of classes scheduled for each tutor. This report also provides the total hours the tutor is scheduled to teach for each class, which can be used for payroll purposes.This report prints in Landscape format.",
#        "body":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!-- Created with Jaspersoft Studio version 6.1.0.final using JasperEmailTemplates Library version 6.1.0  -->\n<jasperEmailTemplate xmlns=\"http://jasperreports.sourceforge.net/jasperreports\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd\" name=\"ClassTutorList\" language=\"groovy\" pageWidth=\"842\" pageHeight=\"595\" orientation=\"Landscape\" columnWidth=\"786\" leftMargin=\"28\" rightMargin=\"28\" topMargin=\"28\" bottomMargin=\"28\" uuid=\"6d9bff41-6ce8-4b6f-9a2e-5aa72101b0a4\">\n\t<property name=\"name\" value=\"Class Tutor List\"/>\n\t<property name=\"entity\" value=\"CourseClassTutor\"/>\n\t<property name=\"isSubreport\" value=\"false\"/>\n\t<property name=\"isVisible\" value=\"true\"/>\n\n\t<property name=\"keyCode\" value=\"ish.onCourse.classTutorListEmailTemplate\"/>\n\t<property name=\"ish.oncourse.description\" value=\"To obtain an overview of classes scheduled for each tutor. This report also provides the total hours the tutor is scheduled to teach for each class, which can be used for payroll purposes.This report prints in Landscape format.\"/>\n\t<property name=\"sortOn\" value=\"tutor.contact.lastName\"/>\n\t<property name=\"ish.oncourse.reports.isObjectOnSeparatePage\" value=\"false\"/>\n\t<import value=\"net.sf.jasperreports.engine.*\"/>\n\t<import value=\"java.util.*\"/>\n\t<import value=\"net.sf.jasperreports.engine.data.*\"/>\n\t<style name=\"default\" isDefault=\"true\" forecolor=\"#000000\" vTextAlign=\"Bottom\" markup=\"none\" fontName=\"Open Sans\" fontSize=\"9\" isBold=\"false\" isItalic=\"false\" isUnderline=\"false\" isStrikeThrough=\"false\" pdfFontName=\"OpenSans\" pdfEncoding=\"Cp1252\" isPdfEmbedded=\"true\">\n\t\t<paragraph spacingAfter=\"8\"/>\n\t</style>\n\t<style name=\"header 1\" style=\"default\" forecolor=\"#4F0018\" vTextAlign=\"Middle\" fontName=\"Open Sans Light\" fontSize=\"18\" pdfFontName=\"Open Sans Light\"/>\n\t<style name=\"header 2\" style=\"header 1\" fontSize=\"12\"/>\n\t<style name=\"header 3\" style=\"default\" vTextAlign=\"Middle\" fontName=\"Open Sans Semibold\" pdfFontName=\"Open Sans Semibold\"/>\n\t<style name=\"header 3 (right)\" style=\"header 3\" hTextAlign=\"Right\"/>\n\t<style name=\"Label\" style=\"default\" forecolor=\"#6A7E99\"/>\n\t<style name=\"Label right\" style=\"Label\" hTextAlign=\"Right\"/>\n\t<style name=\"data field\" style=\"default\"/>\n\t<style name=\"data field (money)\" style=\"data field\" hTextAlign=\"Right\" pattern=\"¤#,###,##0.00;¤(-#,###,##0.00)\"/>\n\t<style name=\"data field (numeric)\" style=\"data field\" hTextAlign=\"Right\"/>\n\t<style name=\"data field (datetime)\" style=\"data field\" pattern=\"d MMM yyyy h:mma\"/>\n\t<style name=\"data field (day)\" style=\"data field\" pattern=\"E d MMM h:mma\"/>\n\t<style name=\"data field (date)\" style=\"data field\" pattern=\"d MMM yyyy\"/>\n\t<style name=\"Footer\" style=\"default\" forecolor=\"#737373\" fontSize=\"8\"/>\n\t<style name=\"Footer strong\" style=\"Footer\" fontName=\"Open Sans Semibold\" pdfFontName=\"Open Sans Semibold\"/>\n\t<style name=\"subHead box\" style=\"default\" backcolor=\"#E6E7F0\"/>\n\t<style name=\"crosstab\" mode=\"Opaque\" backcolor=\"#F7F2E9\">\n\t\t<box>\n\t\t\t<topPen lineWidth=\"0.0\" lineStyle=\"Solid\" lineColor=\"#A3A3A3\"/>\n\t\t\t<leftPen lineWidth=\"0.2\" lineStyle=\"Solid\" lineColor=\"#A3A3A3\"/>\n\t\t\t<bottomPen lineWidth=\"0.2\" lineStyle=\"Solid\" lineColor=\"#A3A3A3\"/>\n\t\t\t<rightPen lineWidth=\"0.0\" lineStyle=\"Solid\" lineColor=\"#A3A3A3\"/>\n\t\t</box>\n\t\t<conditionalStyle>\n\t\t\t<conditionExpression><![CDATA[$V{ROW_COUNT}.intValue() % 2 == 1 ? Boolean.TRUE : Boolean.FALSE]]></conditionExpression>\n\t\t\t<style mode=\"Opaque\" backcolor=\"#FFFFFF\"/>\n\t\t</conditionalStyle>\n\t</style>\n\t<style name=\"alternateRow\" mode=\"Opaque\" forecolor=\"rgba(255, 255, 255, 0.0)\" backcolor=\"#F7F2E9\">\n\t\t<box>\n\t\t\t<topPen lineWidth=\"0.0\" lineStyle=\"Solid\" lineColor=\"#000000\"/>\n\t\t\t<leftPen lineWidth=\"0.0\" lineStyle=\"Solid\" lineColor=\"#000000\"/>\n\t\t\t<bottomPen lineWidth=\"0.0\" lineStyle=\"Solid\" lineColor=\"#000000\"/>\n\t\t\t<rightPen lineWidth=\"0.0\" lineStyle=\"Solid\" lineColor=\"#000000\"/>\n\t\t</box>\n\t\t<conditionalStyle>\n\t\t\t<conditionExpression><![CDATA[$V{PAGE_COUNT}.intValue() % 2 == 1 ? Boolean.TRUE : Boolean.FALSE]]></conditionExpression>\n\t\t\t<style mode=\"Opaque\" backcolor=\"#FFFFFF\"/>\n\t\t</conditionalStyle>\n\t</style>\n\t<parameter name=\"EmailTemplateName\" class=\"java.lang.String\" isForPrompting=\"false\"/>\n\t<field name=\"courseClassTutor\" class=\"ish.oncourse.server.cayenne.CourseClassTutor\"/>\n\t<field name=\"courseClass.course.name\" class=\"java.lang.String\"/>\n\t<field name=\"courseClass.uniqueCode\" class=\"java.lang.String\"/>\n\t<field name=\"courseClass.room.site.name\" class=\"java.lang.String\"/>\n\t<field name=\"sessionSummary\" class=\"java.lang.String\"/>\n\t<field name=\"tutor.contact.lastName\" class=\"java.lang.String\"/>\n\t<field name=\"tutor.id\" class=\"java.lang.Long\"/>\n\t<field name=\"image.poweredby\" class=\"java.io.InputStream\"/>\n\t<group name=\"tutorGroup\">\n\t\t<groupExpression><![CDATA[$F{tutor.id}]]></groupExpression>\n\t\t<groupHeader>\n\t\t\t<band height=\"22\" splitType=\"Stretch\">\n\t\t\t\t<textField isBlankWhenNull=\"true\">\n\t\t\t\t\t<reportElement key=\"textField-13\" style=\"header 2\" x=\"0\" y=\"1\" width=\"776\" height=\"20\" uuid=\"248bc72a-7a56-417d-9137-98778109aa1c\">\n\t\t\t\t\t\t<property name=\"com.jaspersoft.studio.unit.height\" value=\"pixel\"/>\n\t\t\t\t\t</reportElement>\n\t\t\t\t\t<textFieldExpression><![CDATA[$F{courseClassTutor}.tutor.contact.fullName]]></textFieldExpression>\n\t\t\t\t</textField>\n\t\t\t</band>\n\t\t</groupHeader>\n\t\t<groupFooter>\n\t\t\t<band splitType=\"Stretch\"/>\n\t\t</groupFooter>\n\t</group>\n\t<background>\n\t\t<band splitType=\"Stretch\"/>\n\t</background>\n\t<title>\n\t\t<band height=\"141\" splitType=\"Stretch\">\n\t\t\t<property name=\"com.jaspersoft.studio.unit.height\" value=\"pixel\"/>\n\t\t\t<textField isBlankWhenNull=\"false\">\n\t\t\t\t<reportElement key=\"textField-1\" style=\"header 1\" x=\"0\" y=\"115\" width=\"781\" height=\"26\" uuid=\"14d5982e-c377-41a5-950a-d4e4ddf3688a\"/>\n\t\t\t\t<textFieldExpression><![CDATA[$P{EmailTemplateName}]]></textFieldExpression>\n\t\t\t</textField>\n\t\t</band>\n\t</title>\n\t<columnHeader>\n\t\t<band height=\"38\" splitType=\"Stretch\">\n\t\t\t<property name=\"com.jaspersoft.studio.unit.height\" value=\"pixel\"/>\n\t\t\t<rectangle>\n\t\t\t\t<reportElement x=\"0\" y=\"18\" width=\"782\" height=\"20\" backcolor=\"#E6E7F0\" uuid=\"8c67e938-5c56-4f18-9dc5-1b193c87ab08\">\n\t\t\t\t\t<property name=\"com.jaspersoft.studio.unit.height\" value=\"mm\"/>\n\t\t\t\t</reportElement>\n\t\t\t\t<graphicElement>\n\t\t\t\t\t<pen lineWidth=\"0.0\"/>\n\t\t\t\t</graphicElement>\n\t\t\t</rectangle>\n\t\t\t<staticText>\n\t\t\t\t<reportElement key=\"staticText-1\" style=\"header 3\" x=\"1\" y=\"21\" width=\"98\" height=\"15\" uuid=\"77445e88-ba47-462d-81b9-2b8bb977efde\"/>\n\t\t\t\t<text><![CDATA[Code]]></text>\n\t\t\t</staticText>\n\t\t\t<staticText>\n\t\t\t\t<reportElement key=\"staticText-4\" style=\"header 3\" x=\"335\" y=\"21\" width=\"96\" height=\"15\" uuid=\"a83682c4-d554-4788-b8d8-aa685c1ace1f\"/>\n\t\t\t\t<text><![CDATA[Site]]></text>\n\t\t\t</staticText>\n\t\t\t<staticText>\n\t\t\t\t<reportElement key=\"staticText-5\" style=\"header 3 (right)\" x=\"435\" y=\"21\" width=\"94\" height=\"15\" uuid=\"549e85bd-76cd-4445-8066-cc629185cfe7\"/>\n\t\t\t\t<text><![CDATA[Sessions (hours)]]></text>\n\t\t\t</staticText>\n\t\t\t<staticText>\n\t\t\t\t<reportElement key=\"staticText-6\" style=\"header 3\" x=\"101\" y=\"21\" width=\"230\" height=\"15\" uuid=\"33e0e540-0566-42c9-8bf2-37749187a7cf\"/>\n\t\t\t\t<text><![CDATA[Name]]></text>\n\t\t\t</staticText>\n\t\t\t<staticText>\n\t\t\t\t<reportElement key=\"staticText-5\" style=\"header 3\" x=\"540\" y=\"21\" width=\"120\" height=\"15\" uuid=\"5d810410-39e8-4f39-9515-d480bcdb4fcb\"/>\n\t\t\t\t<text><![CDATA[Start Date]]></text>\n\t\t\t</staticText>\n\t\t\t<staticText>\n\t\t\t\t<reportElement key=\"staticText-5\" style=\"header 3\" x=\"660\" y=\"21\" width=\"120\" height=\"15\" uuid=\"ca6809f6-5e6d-43cf-8207-10e5e384c200\"/>\n\t\t\t\t<text><![CDATA[End Date]]></text>\n\t\t\t</staticText>\n\t\t</band>\n\t</columnHeader>\n\t<detail>\n\t\t<band height=\"20\" splitType=\"Stretch\">\n\t\t\t<rectangle>\n\t\t\t\t<reportElement style=\"alternateRow\" stretchType=\"RelativeToBandHeight\" x=\"0\" y=\"0\" width=\"782\" height=\"20\" uuid=\"a87378e6-6fb5-4e04-8263-06c8eb5c14a4\">\n\t\t\t\t\t<property name=\"com.jaspersoft.studio.unit.x\" value=\"mm\"/>\n\t\t\t\t</reportElement>\n\t\t\t</rectangle>\n\t\t\t<textField isBlankWhenNull=\"true\">\n\t\t\t\t<reportElement key=\"textField-6\" style=\"data field\" x=\"1\" y=\"2\" width=\"98\" height=\"14\" uuid=\"ded44765-e5c3-4461-8ba0-603b2a4b8e92\"/>\n\t\t\t\t<textFieldExpression><![CDATA[$F{courseClass.uniqueCode}]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<textField isBlankWhenNull=\"true\">\n\t\t\t\t<reportElement key=\"textField-9\" style=\"data field\" x=\"335\" y=\"2\" width=\"97\" height=\"14\" uuid=\"1a10051a-4c42-4aa0-8a5f-b6069d6cb736\"/>\n\t\t\t\t<textFieldExpression><![CDATA[$F{courseClass.room.site.name}]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<textField isBlankWhenNull=\"true\">\n\t\t\t\t<reportElement key=\"textField-10\" style=\"data field (numeric)\" x=\"435\" y=\"2\" width=\"94\" height=\"14\" uuid=\"6a403c9d-7a9d-493c-9a89-1613a735e415\"/>\n\t\t\t\t<textFieldExpression><![CDATA[$F{sessionSummary}]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<textField isBlankWhenNull=\"true\">\n\t\t\t\t<reportElement key=\"textField-14\" style=\"data field\" x=\"101\" y=\"2\" width=\"230\" height=\"14\" uuid=\"a082dbf4-f3de-49ee-a57d-3bea41b736cc\"/>\n\t\t\t\t<textFieldExpression><![CDATA[$F{courseClass.course.name}]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<textField isBlankWhenNull=\"false\">\n\t\t\t\t<reportElement key=\"textField-5\" style=\"data field (day)\" positionType=\"FixRelativeToBottom\" x=\"540\" y=\"2\" width=\"120\" height=\"14\" uuid=\"36bc6f60-29c4-4ab9-9d57-e307c8de1eb4\"/>\n\t\t\t\t<textFieldExpression><![CDATA[$F{courseClassTutor}.courseClass.startDateTime?.format(\"d MMM yyyy h:mma\", $F{courseClassTutor}.courseClass.timeZone)]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<textField isBlankWhenNull=\"false\">\n\t\t\t\t<reportElement key=\"textField-5\" style=\"data field (day)\" positionType=\"FixRelativeToBottom\" x=\"660\" y=\"2\" width=\"120\" height=\"14\" uuid=\"18129170-bf37-4389-9e5a-f5d16f3b4c31\">\n\t\t\t\t\t<property name=\"com.jaspersoft.studio.unit.width\" value=\"pixel\"/>\n\t\t\t\t</reportElement>\n\t\t\t\t<textFieldExpression><![CDATA[$F{courseClassTutor}.courseClass.endDateTime?.format(\"d MMM yyyy h:mma\", $F{courseClassTutor}.courseClass.timeZone)]]></textFieldExpression>\n\t\t\t</textField>\n\t\t</band>\n\t</detail>\n\t<pageFooter>\n\t\t<band height=\"25\" splitType=\"Stretch\">\n\t\t\t<textField evaluationTime=\"Page\" isBlankWhenNull=\"false\">\n\t\t\t\t<reportElement key=\"pageNumberFooter\" style=\"Footer strong\" x=\"0\" y=\"0\" width=\"300\" height=\"15\" uuid=\"1106d334-b156-4af7-a64d-a75ba7206e2c\"/>\n\t\t\t\t<textFieldExpression><![CDATA[\"Page \" + String.valueOf($V{PAGE_NUMBER})]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<textField evaluationTime=\"EmailTemplate\" isBlankWhenNull=\"false\">\n\t\t\t\t<reportElement key=\"totalPageCountFooter\" style=\"Footer\" x=\"0\" y=\"11\" width=\"300\" height=\"13\" uuid=\"d3e402c5-a433-4f08-90db-5c66216e08f3\"/>\n\t\t\t\t<textFieldExpression><![CDATA[$V{REPORT_COUNT} + \" record\" + ($V{REPORT_COUNT}>1 ? \"s\" : \"\") + \" on \" + $V{PAGE_NUMBER} + \" page\" + ($V{PAGE_NUMBER}>1 ? \"s\" : \"\") + \" (printed \" + new Date().format(\"E d MMM yyyy h:mma\") + \")\"]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<image scaleImage=\"RetainShape\" hAlign=\"Right\" isUsingCache=\"true\" onErrorType=\"Blank\">\n\t\t\t\t<reportElement key=\"oncourseLogo\" style=\"Footer\" x=\"472\" y=\"17\" width=\"67\" height=\"7\" uuid=\"2863530e-11e5-4c1e-8296-ae64db1a9926\"/>\n\t\t\t\t<imageExpression><![CDATA[$F{image.poweredby}]]></imageExpression>\n\t\t\t</image>\n\t\t</band>\n\t</pageFooter>\n</jasperEmailTemplate>\n",
#        "subreport":true,
#        "backgroundId":null,
#        "sortOn":"tutor.contact.lastName",
#        "preview":null,
#        "variables":[],
#        "options":[],
#        "createdOn":"#ignore",
#        "modifiedOn":"#ignore"
#        }
#        """
#
#
#
#    Scenario: (-) Update system EmailTemplate by notadmin without access rights
#
#        Given path ishPathList
#        And param entity = 'EmailTemplate'
#        And param pageSize = 65000
#        And param offset = 0
#        And param columns = 'name'
#        When method GET
#        Then status 200
#
#        * def id = get[0] response.rows[?(@.values == ['Class Tutor List'])].id
#        * print "id = " + id
#
##       <--->  Login as notadmin
#        * def loginBody = {login: 'UserWithRightsView', password: 'password', kickOut: 'true', skipTfa: 'true'}
#
#        Given path '/login'
#        And request loginBody
#        When method PUT
#        Then status 200
##       <--->
#
#        * def emailTemplateToUpdate =
#        """
#        {
#        "id":"#(id)",
#        "name":"Class Tutor List UPD",
#        "entity":"Account",
#        "enabled":false,
#        "keyCode":"ish.onCourse.classTutorListEmailTemplateUPD",
#        "description":"UPD To obtain an overview of classes scheduled for each tutor. This report also provides the total hours the tutor is scheduled to teach for each class, which can be used for payroll purposes.This report prints in Landscape format.",
#        "body":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!-- UPD Created with Jaspersoft Studio version 6.1.0.final using JasperEmailTemplates Library version 6.1.0  -->\n<jasperEmailTemplate xmlns=\"http://jasperreports.sourceforge.net/jasperreports\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd\" name=\"ClassTutorList\" language=\"groovy\" pageWidth=\"842\" pageHeight=\"595\" orientation=\"Landscape\" columnWidth=\"786\" leftMargin=\"28\" rightMargin=\"28\" topMargin=\"28\" bottomMargin=\"28\" uuid=\"6d9bff41-6ce8-4b6f-9a2e-5aa72101b0a4\">\n\t<property name=\"name\" value=\"Class Tutor List\"/>\n\t<property name=\"entity\" value=\"CourseClassTutor\"/>\n\t<property name=\"isSubreport\" value=\"false\"/>\n\t<property name=\"isVisible\" value=\"true\"/>\n\n\t<property name=\"keyCode\" value=\"ish.onCourse.classTutorListEmailTemplate\"/>\n\t<property name=\"ish.oncourse.description\" value=\"To obtain an overview of classes scheduled for each tutor. This report also provides the total hours the tutor is scheduled to teach for each class, which can be used for payroll purposes.This report prints in Landscape format.\"/>\n\t<property name=\"sortOn\" value=\"tutor.contact.lastName\"/>\n\t<property name=\"ish.oncourse.reports.isObjectOnSeparatePage\" value=\"false\"/>\n\t<import value=\"net.sf.jasperreports.engine.*\"/>\n\t<import value=\"java.util.*\"/>\n\t<import value=\"net.sf.jasperreports.engine.data.*\"/>\n\t<style name=\"default\" isDefault=\"true\" forecolor=\"#000000\" vTextAlign=\"Bottom\" markup=\"none\" fontName=\"Open Sans\" fontSize=\"9\" isBold=\"false\" isItalic=\"false\" isUnderline=\"false\" isStrikeThrough=\"false\" pdfFontName=\"OpenSans\" pdfEncoding=\"Cp1252\" isPdfEmbedded=\"true\">\n\t\t<paragraph spacingAfter=\"8\"/>\n\t</style>\n\t<style name=\"header 1\" style=\"default\" forecolor=\"#4F0018\" vTextAlign=\"Middle\" fontName=\"Open Sans Light\" fontSize=\"18\" pdfFontName=\"Open Sans Light\"/>\n\t<style name=\"header 2\" style=\"header 1\" fontSize=\"12\"/>\n\t<style name=\"header 3\" style=\"default\" vTextAlign=\"Middle\" fontName=\"Open Sans Semibold\" pdfFontName=\"Open Sans Semibold\"/>\n\t<style name=\"header 3 (right)\" style=\"header 3\" hTextAlign=\"Right\"/>\n\t<style name=\"Label\" style=\"default\" forecolor=\"#6A7E99\"/>\n\t<style name=\"Label right\" style=\"Label\" hTextAlign=\"Right\"/>\n\t<style name=\"data field\" style=\"default\"/>\n\t<style name=\"data field (money)\" style=\"data field\" hTextAlign=\"Right\" pattern=\"¤#,###,##0.00;¤(-#,###,##0.00)\"/>\n\t<style name=\"data field (numeric)\" style=\"data field\" hTextAlign=\"Right\"/>\n\t<style name=\"data field (datetime)\" style=\"data field\" pattern=\"d MMM yyyy h:mma\"/>\n\t<style name=\"data field (day)\" style=\"data field\" pattern=\"E d MMM h:mma\"/>\n\t<style name=\"data field (date)\" style=\"data field\" pattern=\"d MMM yyyy\"/>\n\t<style name=\"Footer\" style=\"default\" forecolor=\"#737373\" fontSize=\"8\"/>\n\t<style name=\"Footer strong\" style=\"Footer\" fontName=\"Open Sans Semibold\" pdfFontName=\"Open Sans Semibold\"/>\n\t<style name=\"subHead box\" style=\"default\" backcolor=\"#E6E7F0\"/>\n\t<style name=\"crosstab\" mode=\"Opaque\" backcolor=\"#F7F2E9\">\n\t\t<box>\n\t\t\t<topPen lineWidth=\"0.0\" lineStyle=\"Solid\" lineColor=\"#A3A3A3\"/>\n\t\t\t<leftPen lineWidth=\"0.2\" lineStyle=\"Solid\" lineColor=\"#A3A3A3\"/>\n\t\t\t<bottomPen lineWidth=\"0.2\" lineStyle=\"Solid\" lineColor=\"#A3A3A3\"/>\n\t\t\t<rightPen lineWidth=\"0.0\" lineStyle=\"Solid\" lineColor=\"#A3A3A3\"/>\n\t\t</box>\n\t\t<conditionalStyle>\n\t\t\t<conditionExpression><![CDATA[$V{ROW_COUNT}.intValue() % 2 == 1 ? Boolean.TRUE : Boolean.FALSE]]></conditionExpression>\n\t\t\t<style mode=\"Opaque\" backcolor=\"#FFFFFF\"/>\n\t\t</conditionalStyle>\n\t</style>\n\t<style name=\"alternateRow\" mode=\"Opaque\" forecolor=\"rgba(255, 255, 255, 0.0)\" backcolor=\"#F7F2E9\">\n\t\t<box>\n\t\t\t<topPen lineWidth=\"0.0\" lineStyle=\"Solid\" lineColor=\"#000000\"/>\n\t\t\t<leftPen lineWidth=\"0.0\" lineStyle=\"Solid\" lineColor=\"#000000\"/>\n\t\t\t<bottomPen lineWidth=\"0.0\" lineStyle=\"Solid\" lineColor=\"#000000\"/>\n\t\t\t<rightPen lineWidth=\"0.0\" lineStyle=\"Solid\" lineColor=\"#000000\"/>\n\t\t</box>\n\t\t<conditionalStyle>\n\t\t\t<conditionExpression><![CDATA[$V{PAGE_COUNT}.intValue() % 2 == 1 ? Boolean.TRUE : Boolean.FALSE]]></conditionExpression>\n\t\t\t<style mode=\"Opaque\" backcolor=\"#FFFFFF\"/>\n\t\t</conditionalStyle>\n\t</style>\n\t<parameter name=\"EmailTemplateName\" class=\"java.lang.String\" isForPrompting=\"false\"/>\n\t<field name=\"courseClassTutor\" class=\"ish.oncourse.server.cayenne.CourseClassTutor\"/>\n\t<field name=\"courseClass.course.name\" class=\"java.lang.String\"/>\n\t<field name=\"courseClass.uniqueCode\" class=\"java.lang.String\"/>\n\t<field name=\"courseClass.room.site.name\" class=\"java.lang.String\"/>\n\t<field name=\"sessionSummary\" class=\"java.lang.String\"/>\n\t<field name=\"tutor.contact.lastName\" class=\"java.lang.String\"/>\n\t<field name=\"tutor.id\" class=\"java.lang.Long\"/>\n\t<field name=\"image.poweredby\" class=\"java.io.InputStream\"/>\n\t<group name=\"tutorGroup\">\n\t\t<groupExpression><![CDATA[$F{tutor.id}]]></groupExpression>\n\t\t<groupHeader>\n\t\t\t<band height=\"22\" splitType=\"Stretch\">\n\t\t\t\t<textField isBlankWhenNull=\"true\">\n\t\t\t\t\t<reportElement key=\"textField-13\" style=\"header 2\" x=\"0\" y=\"1\" width=\"776\" height=\"20\" uuid=\"248bc72a-7a56-417d-9137-98778109aa1c\">\n\t\t\t\t\t\t<property name=\"com.jaspersoft.studio.unit.height\" value=\"pixel\"/>\n\t\t\t\t\t</reportElement>\n\t\t\t\t\t<textFieldExpression><![CDATA[$F{courseClassTutor}.tutor.contact.fullName]]></textFieldExpression>\n\t\t\t\t</textField>\n\t\t\t</band>\n\t\t</groupHeader>\n\t\t<groupFooter>\n\t\t\t<band splitType=\"Stretch\"/>\n\t\t</groupFooter>\n\t</group>\n\t<background>\n\t\t<band splitType=\"Stretch\"/>\n\t</background>\n\t<title>\n\t\t<band height=\"141\" splitType=\"Stretch\">\n\t\t\t<property name=\"com.jaspersoft.studio.unit.height\" value=\"pixel\"/>\n\t\t\t<textField isBlankWhenNull=\"false\">\n\t\t\t\t<reportElement key=\"textField-1\" style=\"header 1\" x=\"0\" y=\"115\" width=\"781\" height=\"26\" uuid=\"14d5982e-c377-41a5-950a-d4e4ddf3688a\"/>\n\t\t\t\t<textFieldExpression><![CDATA[$P{EmailTemplateName}]]></textFieldExpression>\n\t\t\t</textField>\n\t\t</band>\n\t</title>\n\t<columnHeader>\n\t\t<band height=\"38\" splitType=\"Stretch\">\n\t\t\t<property name=\"com.jaspersoft.studio.unit.height\" value=\"pixel\"/>\n\t\t\t<rectangle>\n\t\t\t\t<reportElement x=\"0\" y=\"18\" width=\"782\" height=\"20\" backcolor=\"#E6E7F0\" uuid=\"8c67e938-5c56-4f18-9dc5-1b193c87ab08\">\n\t\t\t\t\t<property name=\"com.jaspersoft.studio.unit.height\" value=\"mm\"/>\n\t\t\t\t</reportElement>\n\t\t\t\t<graphicElement>\n\t\t\t\t\t<pen lineWidth=\"0.0\"/>\n\t\t\t\t</graphicElement>\n\t\t\t</rectangle>\n\t\t\t<staticText>\n\t\t\t\t<reportElement key=\"staticText-1\" style=\"header 3\" x=\"1\" y=\"21\" width=\"98\" height=\"15\" uuid=\"77445e88-ba47-462d-81b9-2b8bb977efde\"/>\n\t\t\t\t<text><![CDATA[Code]]></text>\n\t\t\t</staticText>\n\t\t\t<staticText>\n\t\t\t\t<reportElement key=\"staticText-4\" style=\"header 3\" x=\"335\" y=\"21\" width=\"96\" height=\"15\" uuid=\"a83682c4-d554-4788-b8d8-aa685c1ace1f\"/>\n\t\t\t\t<text><![CDATA[Site]]></text>\n\t\t\t</staticText>\n\t\t\t<staticText>\n\t\t\t\t<reportElement key=\"staticText-5\" style=\"header 3 (right)\" x=\"435\" y=\"21\" width=\"94\" height=\"15\" uuid=\"549e85bd-76cd-4445-8066-cc629185cfe7\"/>\n\t\t\t\t<text><![CDATA[Sessions (hours)]]></text>\n\t\t\t</staticText>\n\t\t\t<staticText>\n\t\t\t\t<reportElement key=\"staticText-6\" style=\"header 3\" x=\"101\" y=\"21\" width=\"230\" height=\"15\" uuid=\"33e0e540-0566-42c9-8bf2-37749187a7cf\"/>\n\t\t\t\t<text><![CDATA[Name]]></text>\n\t\t\t</staticText>\n\t\t\t<staticText>\n\t\t\t\t<reportElement key=\"staticText-5\" style=\"header 3\" x=\"540\" y=\"21\" width=\"120\" height=\"15\" uuid=\"5d810410-39e8-4f39-9515-d480bcdb4fcb\"/>\n\t\t\t\t<text><![CDATA[Start Date]]></text>\n\t\t\t</staticText>\n\t\t\t<staticText>\n\t\t\t\t<reportElement key=\"staticText-5\" style=\"header 3\" x=\"660\" y=\"21\" width=\"120\" height=\"15\" uuid=\"ca6809f6-5e6d-43cf-8207-10e5e384c200\"/>\n\t\t\t\t<text><![CDATA[End Date]]></text>\n\t\t\t</staticText>\n\t\t</band>\n\t</columnHeader>\n\t<detail>\n\t\t<band height=\"20\" splitType=\"Stretch\">\n\t\t\t<rectangle>\n\t\t\t\t<reportElement style=\"alternateRow\" stretchType=\"RelativeToBandHeight\" x=\"0\" y=\"0\" width=\"782\" height=\"20\" uuid=\"a87378e6-6fb5-4e04-8263-06c8eb5c14a4\">\n\t\t\t\t\t<property name=\"com.jaspersoft.studio.unit.x\" value=\"mm\"/>\n\t\t\t\t</reportElement>\n\t\t\t</rectangle>\n\t\t\t<textField isBlankWhenNull=\"true\">\n\t\t\t\t<reportElement key=\"textField-6\" style=\"data field\" x=\"1\" y=\"2\" width=\"98\" height=\"14\" uuid=\"ded44765-e5c3-4461-8ba0-603b2a4b8e92\"/>\n\t\t\t\t<textFieldExpression><![CDATA[$F{courseClass.uniqueCode}]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<textField isBlankWhenNull=\"true\">\n\t\t\t\t<reportElement key=\"textField-9\" style=\"data field\" x=\"335\" y=\"2\" width=\"97\" height=\"14\" uuid=\"1a10051a-4c42-4aa0-8a5f-b6069d6cb736\"/>\n\t\t\t\t<textFieldExpression><![CDATA[$F{courseClass.room.site.name}]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<textField isBlankWhenNull=\"true\">\n\t\t\t\t<reportElement key=\"textField-10\" style=\"data field (numeric)\" x=\"435\" y=\"2\" width=\"94\" height=\"14\" uuid=\"6a403c9d-7a9d-493c-9a89-1613a735e415\"/>\n\t\t\t\t<textFieldExpression><![CDATA[$F{sessionSummary}]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<textField isBlankWhenNull=\"true\">\n\t\t\t\t<reportElement key=\"textField-14\" style=\"data field\" x=\"101\" y=\"2\" width=\"230\" height=\"14\" uuid=\"a082dbf4-f3de-49ee-a57d-3bea41b736cc\"/>\n\t\t\t\t<textFieldExpression><![CDATA[$F{courseClass.course.name}]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<textField isBlankWhenNull=\"false\">\n\t\t\t\t<reportElement key=\"textField-5\" style=\"data field (day)\" positionType=\"FixRelativeToBottom\" x=\"540\" y=\"2\" width=\"120\" height=\"14\" uuid=\"36bc6f60-29c4-4ab9-9d57-e307c8de1eb4\"/>\n\t\t\t\t<textFieldExpression><![CDATA[$F{courseClassTutor}.courseClass.startDateTime?.format(\"d MMM yyyy h:mma\", $F{courseClassTutor}.courseClass.timeZone)]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<textField isBlankWhenNull=\"false\">\n\t\t\t\t<reportElement key=\"textField-5\" style=\"data field (day)\" positionType=\"FixRelativeToBottom\" x=\"660\" y=\"2\" width=\"120\" height=\"14\" uuid=\"18129170-bf37-4389-9e5a-f5d16f3b4c31\">\n\t\t\t\t\t<property name=\"com.jaspersoft.studio.unit.width\" value=\"pixel\"/>\n\t\t\t\t</reportElement>\n\t\t\t\t<textFieldExpression><![CDATA[$F{courseClassTutor}.courseClass.endDateTime?.format(\"d MMM yyyy h:mma\", $F{courseClassTutor}.courseClass.timeZone)]]></textFieldExpression>\n\t\t\t</textField>\n\t\t</band>\n\t</detail>\n\t<pageFooter>\n\t\t<band height=\"25\" splitType=\"Stretch\">\n\t\t\t<textField evaluationTime=\"Page\" isBlankWhenNull=\"false\">\n\t\t\t\t<reportElement key=\"pageNumberFooter\" style=\"Footer strong\" x=\"0\" y=\"0\" width=\"300\" height=\"15\" uuid=\"1106d334-b156-4af7-a64d-a75ba7206e2c\"/>\n\t\t\t\t<textFieldExpression><![CDATA[\"Page \" + String.valueOf($V{PAGE_NUMBER})]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<textField evaluationTime=\"EmailTemplate\" isBlankWhenNull=\"false\">\n\t\t\t\t<reportElement key=\"totalPageCountFooter\" style=\"Footer\" x=\"0\" y=\"11\" width=\"300\" height=\"13\" uuid=\"d3e402c5-a433-4f08-90db-5c66216e08f3\"/>\n\t\t\t\t<textFieldExpression><![CDATA[$V{REPORT_COUNT} + \" record\" + ($V{REPORT_COUNT}>1 ? \"s\" : \"\") + \" on \" + $V{PAGE_NUMBER} + \" page\" + ($V{PAGE_NUMBER}>1 ? \"s\" : \"\") + \" (printed \" + new Date().format(\"E d MMM yyyy h:mma\") + \")\"]]></textFieldExpression>\n\t\t\t</textField>\n\t\t\t<image scaleImage=\"RetainShape\" hAlign=\"Right\" isUsingCache=\"true\" onErrorType=\"Blank\">\n\t\t\t\t<reportElement key=\"oncourseLogo\" style=\"Footer\" x=\"472\" y=\"17\" width=\"67\" height=\"7\" uuid=\"2863530e-11e5-4c1e-8296-ae64db1a9926\"/>\n\t\t\t\t<imageExpression><![CDATA[$F{image.poweredby}]]></imageExpression>\n\t\t\t</image>\n\t\t</band>\n\t</pageFooter>\n</jasperEmailTemplate>\n",
#        "subreport":false,
#        "backgroundId":null,
#        "sortOn":"tutor.contact.lastName",
#        "preview":null,
#        "variables":[],
#        "options":[]
#        }
#        """
#
#        Given path ishPath
#        And request emailTemplateToUpdate
#        When method PATCH
#        Then status 403
#        And match $.errorMessage == "Sorry, you have no permissions to update report. Please contact your administrator"
#
#
#
#    Scenario: (-) Update not existing Export template
#
#        * def emailTemplateToUpdate =
#        """
#        {
#        "id":99999,
#        "name":"patch EmailTemplate1UPD",
#        "entity":"Site",
#        "enabled":false,
#        "keyCode":"patch1UPD",
#        "description":"some description UPD",
#        "body":"someBody UPD",
#        "subreport":true,
#        "backgroundId":2,
#        "sortOn":"name",
#        "preview":null,
#        "variables":[],
#        "options":[{"name":"optName10UPD", "type":"Text", "value":"some record UPD"}]
#        }
#        """
#
#        Given path ishPath
#        And request emailTemplateToUpdate
#        When method PATCH
#        Then status 400
#        And match $.errorMessage == "Record with id = '99999' doesn't exist."