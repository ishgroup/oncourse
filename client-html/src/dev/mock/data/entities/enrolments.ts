import { generateArraysOfRecords, getEntityResponse, removeItemByEntity } from "../../mockUtils";

export function mockEnrolments() {
  this.getEnrolments = () => this.enrolments;

  this.getEnrolment = id => {
    const row = this.enrolments.rows.find(row => row.id == id);
    return {
      id: row.id,
      associatedCourseIdentifier: null,
      attendanceType: "QLD - Non-concessional participant, WA - Health Care Card (N)",
      clientIdentifier: null,
      courseClassName: row.values[3],
      courseClassId: 1,
      creditOfferedValue: null,
      creditUsedValue: null,
      creditFOEId: null,
      creditProvider: null,
      creditProviderType: null,
      creditType: null,
      creditLevel: "Diploma",
      cricosConfirmation: null,
      customFields: {},
      eligibilityExemptionIndicator: false,
      feeExemption: "Not set",
      feeCharged: 550,
      feeHelpAmount: 0,
      fundingSource: "Domestic full fee paying student",
      fundingContractId: null,
      fundingContractName: null,
      fundingSourceState: null,
      fullTime: false,
      loanFee: 0,
      loanTotal: 0,
      source: row.values[0],
      status: row.values[4],
      studentName: row.values[1],
      studentContactId: 1,
      studyReason: "Not stated",
      suppressAvetmissExport: false,
      trainingPlanDeveloped: null,
      vetPurchasingContractIdentifier: "2",
      vetInSchools: null,
      vetTrainingContractID: null,
      vetFeeIndicator: false,
      documents: [],
      notes: [],
      tags: [this.getTag(1)]
    };
  };

  this.createEnrolment = item => {
    const data = JSON.parse(item);
    const enrolments = this.enrolments;
    const totalRows = enrolments.rows;

    data.id = totalRows.length + 1;

    enrolments.rows.push({
      id: data.id,
      values: [data.source, data.studentName, data.classCode, data.courseClassName, data.status, data.createdOn]
    });

    this.enrolments = enrolments;
  };

  this.removeEnrolment = id => {
    this.enrolments = removeItemByEntity(this.enrolments, id);
  };

  this.getPlainEnrolments = params => {
    const columnList = params.columns.split(",");
    const ids = params.search.replace(/(id in|\(|\))/g, '').trim().split(",");

    let rows = [];

    if (columnList.length) {
      if (columnList.includes("status")) {
        ids.forEach(id => {
          rows.push({
            id,
            values: ["Active"]
          });
        });
      } else if (columnList.includes("invoiceLine.invoice.invoiceNumber")) {
        rows = generateArraysOfRecords(20, [
          { name: "id", type: "number" },
          { name: "invoiceNumber", type: "number" },
          { name: "createdOn", type: "Datetime" },
          { name: "uniqueCode", type: "string" },
          { name: "courseName", type: "string" },
          { name: "status", type: "string" }
        ]).map(l => ({
          id: l.id,
          values: [l.invoiceNumber, "2021-01-16T06:31:09.463Z", l.uniqueCode, l.courseName, l.status]
        }));
      }
    } else {
      rows = generateArraysOfRecords(20, [
        { name: "id", type: "number" },
        { name: "source", type: "string" },
        { name: "studentName", type: "string" },
        { name: "classCode", type: "string" },
        { name: "courseClassName", type: "string" },
        { name: "status", type: "string" },
        { name: "createdOn", type: "Datetime" }
      ]).map(l => ({
        id: l.id,
        values: [l.source, l.studentName, l.classCode, l.courseClassName, l.status, l.createdOn]
      }));
    }

    return getEntityResponse({
      entity: "Enrolment",
      rows,
      plain: true
    });
  };

  this.getEnrolmentEmailTemplates = () => [
    {
      "id": 12,
      "type": "Email",
      "keyCode": "legacy.12",
      "name": "Enrolment Confirmation",
      "entity": "Enrolment",
      "subject": "Enrolment confirmation #${enrolment.invoiceLine.invoice.invoiceNumber}",
      "plainBody": "${render(\"Header\")} \n<% if (enrolment.courseClass.course.hasTag(\"Smart & Skilled\")) { %>\n${java.time.LocalDate.now().format(\"dd MMM yyyy\")}\n\nSENT BY EMAIL\n\nDear ${enrolment.student.contact.firstName}\n\nCourse Name: ${enrolment.courseClass.course.name} (${enrolment.courseClass.course.code}-${enrolment.courseClass.code})\nSmart & Skilled Commitment ID: ${enrolment.vetPurchasingContractID?:\"\"}\n\nPlease accept this letter as confirmation of your place in the above course, subsidised by the NSW Government through its Smart & Skilled Training Program. The course will be held as follows:\n\nTraining Venue: ${enrolment.courseClass.displayableLocation}\nStart Date: ${enrolment.courseClass.startDateTime.format(\"h:mm a EEEE d MMMM yyyy\")}\nEnd Date: ${enrolment.courseClass.endDateTime.format(\"h:mm a EEEE d MMMM yyyy\")}\nTrainer Name: ${enrolment.courseClass.tutorNames}\nCourse Cost: ${enrolment.courseClass.feeIncGst}\n\nPlease visit ${Preferences.get(\"web.url\")}/class/${enrolment.courseClass.course.code}-${enrolment.courseClass.code} to confirm the class details, directions and course requirements including work placement and mandatory certification applications  (if applicable).\n    \nA timetable will be handed out at the first session of the course together with relevant course resources.        \n<% if (enrolment.courseClass?.room?.site?.suburb?.toLowerCase()?.contains(\"narrabeen\")) { %>\nAs only limited parking is available to the College in the northern end of the main car park, we ask that students park in Lake Park car park on the opposite side of Pittwater Road. As Pittwater Sports Centre management monitors the use of the car park, we request your cooperation in this matter.              \n<% } %>\n<% if (enrolment.courseClass?.room?.site?.suburb?.toLowerCase()?.contains(\"brookvale\")) { %>\nNo on site parking is available at our Brookvale Training Centre. Unrestricted street parking is available further along William Street and in surrounding residential streets.\n<% } %>      \nStudent facilities at the College include a kitchen with fridge and microwave. Student access to computers is available at our Narrabeen training centre if you do not have access to your own, for the purposes of research and completion of course work. Please contact the College first to check availability.\n\nYou will need to allow regular self study time in addition to the face to face class hours - the amount of time will vary according to subject being studied. Assessments will be conducted as part of the course. Some are to be taken home and completed in your own time, while others will be conducted in class or during work placement (if applicable). If you are unable to attend any training sessions, please email your trainer to explain your absence. Attendance is vital and students must attend at least 75% of the course to meet attendance requirements.\n\nAs advised on enrolment, the Student Handbook and Smart & Skilled Student Information documents can be located in the Smart & Skilled section of the College website at www.nbcc.nsw.edu.au. These documents should be read, as they contain information about, the assessment process, recognition of prior learning, fees, consumer protection, deferral or discontinuance of training, access to support and contact details for various support services, your rights under the Smart & Skilled guidelines and College policies and procedures.\n     \nI do hope you will enjoy a positive learning experience at the College and I encourage you to talk to your trainer or to me if you have any concerns or feedback you would like to share, as you complete the course. <br />\n       \nYours sincerely\n       \nFran Butterworth      \nExecutive Director\n      \n<% } else { %>\nDear ${enrolment.student.contact.fullName},\n\nThank you for enrolling at ${Preferences.get(\"college.name\")}.\n\nClass: ${enrolment.courseClass.course.code}-${enrolment.courseClass.code} ${enrolment.courseClass.course.name}\n<% if (enrolment.courseClass.startDateTime == null) { %>\nStart: On enrolment\nExpected duration: ${enrolment.courseClass.expectedHours ?: \"not specified\"}\n<% } else { %>\nStart: ${enrolment.courseClass.startDateTime.format(\"h:mm a EEEE d MMMM yyyy\")}\nEnd: ${enrolment.courseClass.endDateTime.format(\"h:mm a EEEE d MMMM yyyy\")}\n<% } %>\nLocation: ${enrolment.courseClass.displayableLocation}\n\nPlease visit ${Preferences.get(\"web.url\")}/class/${enrolment.courseClass.course.code}-${enrolment.courseClass.code} to confirm the class details, directions and course requirements.\n\n<% if (enrolment.courseClass.course.modules.size() > 0) { %>\nYou have enrolled in a Nationally Recognised Training course. We are required to collect some additional information from you as part of the enrolment process. \n\nPlease visit ${Preferences.getPortalCensusUrl(enrolment.student)} to complete these questions.\n\nYou are required to supply your Unique Student Identifier (USI) in order to be issued a Statement of Attainment or Qualification on the successful completion of your course.\n\nIf you do not have a USI you can apply for one via the link above.\n<% } %>\n\nEnrolment reference: ${enrolment.invoiceLine.invoice.invoiceNumber}\n<% } %>\n${enrolment.student.getPortalLink('USI')}\n${render(\"Footer\")}",
      "body": "${render(\"Header\", [title: \"Enrolment Confirmation\"])}\n<% if (enrolment.courseClass.course.hasTag(\"Smart & Skilled\")) { %>\n<table class=\"ish_block\" style=\"border: 0;border-collapse: collapse;mso-table-lspace: 0pt; mso-table-rspace: 0pt;clear: both;border: 0;min-width: 100%;\" width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" align=\"left\">\n    <tbody>\n    <tr>\n        <td class=\"ish_content_container left\" style=\"border: 0;border-collapse: collapse;background-color: #ffffff;border: 0;padding-top: 0;padding-right: 17px;padding-bottom: 10px;padding-left: 17px; vertical-align: top;\" align=\"left\" valign=\"top\">\n            <div class=\"ish_text_container\">\n                <p class=\"align-left\" style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 13px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 150%;margin-top: .2em;margin-right: 0;margin-bottom: 1em;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;vertical-align: top;word-wrap: break-word;border: 0;text-align: left;\">\n                    ${java.time.LocalDate.now().format(\"dd MMMM yyyy\")}\n                </p>\n                <p class=\"align-left\" style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 13px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 150%;margin-top: .2em;margin-right: 0;margin-bottom: 1em;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;vertical-align: top;word-wrap: break-word;border: 0;text-align: left;\">\n                    SENT BY EMAIL\n                </p>\n                <p class=\"align-left\" style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 13px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 150%;margin-top: .2em;margin-right: 0;margin-bottom: 1em;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;vertical-align: top;word-wrap: break-word;border: 0;text-align: left;\">\n                    Dear ${enrolment.student.contact.firstName}\n                </p>\n                <p class=\"align-left\" style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 13px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 150%;margin-top: .2em;margin-right: 0;margin-bottom: 1em;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;vertical-align: top;word-wrap: break-word;border: 0;text-align: left;\">\n                    <b>Course Name: </b> ${enrolment.courseClass.course.name} (${enrolment.courseClass.course.code}-${enrolment.courseClass.code}) <br />\n                    <b>Smart & Skilled Commitment ID: </b> ${enrolment.vetPurchasingContractID?:\"\"}\n                </p>\n                <p class=\"align-left\" style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 13px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 150%;margin-top: .2em;margin-right: 0;margin-bottom: 1em;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;vertical-align: top;word-wrap: break-word;border: 0;text-align: left;\">\n                    Please accept this letter as confirmation of your place in the above course, subsidised by the NSW Government through its Smart & Skilled Training Program. The course will be held as follows:\n                </p>\n                <table border=\"1\" width=\"100%\" style=\"border:1;\">\n                    <tbody class=\"ish_enrol_conf_content\">\n                    <tr>\n                        <td class=\"ish_enrol_conf_row left\" style=\"border:1; border-collapse: collapse; background-color: #fff; border: 1;padding-top: 17px;padding-right: 20px;padding-bottom: 17px; padding-left: 20px; color: #000000  !important; font-weight: normal !important; font-size:13px !important; vertical-align: top; width: 30% !important;\" valign=\"top\" align=\"left\" width=\"30%\">\n                            <p class=\"align-left\" style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 13px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 100%;margin-top: .2em;margin-right: 0;margin-bottom: 0;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;vertical-align: top;word-wrap: break-word;border: 0;text-align: left;\">\n                                Training Venue:\n                            </p>\n                        </td>\n                        <td class=\"ish_enrol_conf_row left\" style=\"border:1; border-collapse: collapse; background-color: #fff; border: 1;padding-top: 17px;padding-right: 20px;padding-bottom: 17px; padding-left: 20px; color: #000000  !important; font-weight: normal !important;  font-size:13px !important; vertical-align: top; width: 70% !important;\" valign=\"top\" align=\"left\" width=\"70%\">\n                            <p class=\"align-left\" style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 13px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 100%;margin-top: .2em;margin-right: 0;margin-bottom: 0;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;vertical-align: top;word-wrap: break-word;border: 0;text-align: left;\">\n                                ${enrolment.courseClass.displayableLocation}\n                            </p>\n                        </td>\n                    </tr>\n                    </tbody>\n                    <tbody class=\"ish_enrol_conf_content\">\n                    <tr>\n                        <td class=\"ish_enrol_conf_row left\" style=\"border:1; border-collapse: collapse; background-color: #fff; border: 1;padding-top: 17px;padding-right: 20px;padding-bottom: 17px; padding-left: 20px; color: #000000  !important; font-weight: normal !important; font-size:13px !important; vertical-align: top; width: 30% !important;\" valign=\"top\" align=\"left\" width=\"30%\">\n                            <p class=\"align-left\" style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 13px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 100%;margin-top: .2em;margin-right: 0;margin-bottom: 0;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;vertical-align: top;word-wrap: break-word;border: 0;text-align: left;\">\n                                Start Date:\n                            </p>\n                        </td>\n                        <td class=\"ish_enrol_conf_row left\" style=\"border:1; border-collapse: collapse; background-color: #fff; border: 1;padding-top: 17px;padding-right: 20px;padding-bottom: 17px; padding-left: 20px; color: #000000  !important; font-weight: normal !important;  font-size:13px !important; vertical-align: top; width: 70% !important;\" valign=\"top\" align=\"left\" width=\"70%\">\n                            <p class=\"align-left\" style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 13px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 100%;margin-top: .2em;margin-right: 0;margin-bottom: 0;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;vertical-align: top;word-wrap: break-word;border: 0;text-align: left;\">\n                                ${enrolment.courseClass.startDateTime.format(\"h:mm a EEEE d MMMM yyyy\")}\n                            </p>\n                        </td>\n                    </tr>\n                    </tbody>\n                    <tbody class=\"ish_enrol_conf_content\">\n                    <tr>\n                        <td class=\"ish_enrol_conf_row left\" style=\"border:1; border-collapse: collapse; background-color: #fff; border: 1;padding-top: 17px;padding-right: 20px;padding-bottom: 17px; padding-left: 20px; color: #000000  !important; font-weight: normal !important; font-size:13px !important; vertical-align: top; width: 30% !important;\" valign=\"top\" align=\"left\" width=\"30%\">\n                            <p class=\"align-left\" style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 13px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 100%;margin-top: .2em;margin-right: 0;margin-bottom: 0;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;vertical-align: top;word-wrap: break-word;border: 0;text-align: left;\">\n                                End Date:\n                            </p>\n                        </td>\n                        <td class=\"ish_enrol_conf_row left\" style=\"border:1; border-collapse: collapse; background-color: #fff; border: 1;padding-top: 17px;padding-right: 20px;padding-bottom: 17px; padding-left: 20px; color: #000000  !important; font-weight: normal !important;  font-size:13px !important; vertical-align: top; width: 70% !important;\" valign=\"top\" align=\"left\" width=\"70%\">\n                            <p class=\"align-left\" style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 13px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 100%;margin-top: .2em;margin-right: 0;margin-bottom: 0;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;vertical-align: top;word-wrap: break-word;border: 0;text-align: left;\">\n                                ${enrolment.courseClass.endDateTime.format(\"h:mm a EEEE d MMMM yyyy\")}\n                            </p>\n                        </td>\n                    </tr>\n                    </tbody>\n                    <tbody class=\"ish_enrol_conf_content\">\n                    <tr>\n                        <td class=\"ish_enrol_conf_row left\" style=\"border:1; border-collapse: collapse; background-color: #fff; border: 1;padding-top: 17px;padding-right: 20px;padding-bottom: 17px; padding-left: 20px; color: #000000  !important; font-weight: normal !important; font-size:13px !important; vertical-align: top; width: 30% !important;\" valign=\"top\" align=\"left\" width=\"30%\">\n                            <p class=\"align-left\" style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 13px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 100%;margin-top: .2em;margin-right: 0;margin-bottom: 0;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;vertical-align: top;word-wrap: break-word;border: 0;text-align: left;\">\n                                Trainer Name:\n                            </p>\n                        </td>\n                        <td class=\"ish_enrol_conf_row left\" style=\"border:1; border-collapse: collapse; background-color: #fff; border: 1;padding-top: 17px;padding-right: 20px;padding-bottom: 17px; padding-left: 20px; color: #000000  !important; font-weight: normal !important;  font-size:13px !important; vertical-align: top; width: 70% !important;\" valign=\"top\" align=\"left\" width=\"70%\">\n                            <p class=\"align-left\" style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 13px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 100%;margin-top: .2em;margin-right: 0;margin-bottom: 0;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;vertical-align: top;word-wrap: break-word;border: 0;text-align: left;\">\n                                ${enrolment.courseClass.tutorNames}\n                            </p>\n                        </td>\n                    </tr>\n                    </tbody>\n                    <tbody class=\"ish_enrol_conf_content\">\n                    <tr>\n                        <td class=\"ish_enrol_conf_row left\" style=\"border:1; border-collapse: collapse; background-color: #fff; border: 1;padding-top: 17px;padding-right: 20px;padding-bottom: 17px; padding-left: 20px; color: #000000  !important; font-weight: normal !important; font-size:13px !important; vertical-align: top; width: 30% !important;\" valign=\"top\" align=\"left\" width=\"30%\">\n                            <p class=\"align-left\" style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 13px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 100%;margin-top: .2em;margin-right: 0;margin-bottom: 0;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;vertical-align: top;word-wrap: break-word;border: 0;text-align: left;\">\n                                Course Cost:\n                            </p>\n                        </td>\n                        <td class=\"ish_enrol_conf_row left\" style=\"border:1; border-collapse: collapse; background-color: #fff; border: 1;padding-top: 17px;padding-right: 20px;padding-bottom: 17px; padding-left: 20px; color: #000000  !important; font-weight: normal !important;  font-size:13px !important; vertical-align: top; width: 70% !important;\" valign=\"top\" align=\"left\" width=\"70%\">\n                            <p class=\"align-left\" style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 13px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 100%;margin-top: .2em;margin-right: 0;margin-bottom: 0;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;vertical-align: top;word-wrap: break-word;border: 0;text-align: left;\">\n                                ${enrolment.courseClass.feeIncGst}\n                            </p>\n                        </td>\n                    </tr>\n                    </tbody>\n                </table>\n                <p class=\"align-left\" style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 13px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 150%;margin-top: .2em;margin-right: 0;margin-bottom: 1em;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;vertical-align: top;word-wrap: break-word;border: 0;text-align: left;\">\n                    Please visit <a style=\"color: #0084b4;color: #0084b4 !important;background-color: #ffffff;text-decoration: none;border: 0;word-wrap: break-word;\" href=\"${Preferences.get(\"web.url\")}/class/${enrolment.courseClass.course.code}-${enrolment.courseClass.code}\" target=\"_blank\">${Preferences.get(\"web.url\")}/class/${enrolment.courseClass.course.code}-${enrolment.courseClass.code}</a> to confirm the class details, directions and course requirements including work placement and mandatory certification applications (if applicable).\n                </p>\n                <p class=\"align-left\" style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 13px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 150%;margin-top: .2em;margin-right: 0;margin-bottom: 1em;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;vertical-align: top;word-wrap: break-word;border: 0;text-align: left;\">\n                    A timetable will be handed out at the first session of the course together with relevant course resources.\n                </p>\n                <% if (enrolment.courseClass?.room?.site?.suburb?.toLowerCase()?.contains(\"narrabeen\")) { %>\n\n                <p class=\"align-left\" style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 13px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 150%;margin-top: .2em;margin-right: 0;margin-bottom: 1em;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;vertical-align: top;word-wrap: break-word;border: 0;text-align: left;\">\n                    As only limited parking is available to the College in the northern end of the main car park, we ask that students park in Lake Park car park on the opposite side of Pittwater Road. As Pittwater Sports Centre management monitors the use of the car park, we request your cooperation in this matter.\n                </p>\n                <% } %>\n                <% if (enrolment.courseClass?.room?.site?.suburb?.toLowerCase()?.contains(\"brookvale\")) { %>\n                <p class=\"align-left\" style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 13px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 150%;margin-top: .2em;margin-right: 0;margin-bottom: 1em;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;vertical-align: top;word-wrap: break-word;border: 0;text-align: left;\">\n                    No on site parking is available at our Brookvale Training Centre. Unrestricted street parking is available further along William Street and in surrounding residential streets.\n                </p>\n                <% } %>\n                <p class=\"align-left\" style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 13px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 150%;margin-top: .2em;margin-right: 0;margin-bottom: 1em;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;vertical-align: top;word-wrap: break-word;border: 0;text-align: left;\">\n                    Student facilities at the College include a kitchen with fridge and microwave. Student access to computers is available at our Narrabeen training centre if you do not have access to your own, for the purposes of research and completion of course work. Please contact the College first to check availability.\n                </p>\n                <p class=\"align-left\" style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 13px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 150%;margin-top: .2em;margin-right: 0;margin-bottom: 1em;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;vertical-align: top;word-wrap: break-word;border: 0;text-align: left;\">\n                    You will need to allow regular self study time in addition to the face to face class hours - the amount of time will vary according to subject being studied. Assessments will be conducted as part of the course. Some are to be taken home and completed in your own time, while others will be conducted in class or during work placement (if applicable). If you are unable to attend any training sessions, please email your trainer to explain your absence. Attendance is vital and students must attend at least 75% of the course to meet attendance requirements.\n                </p>\n                <p class=\"align-left\" style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 13px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 150%;margin-top: .2em;margin-right: 0;margin-bottom: 1em;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;vertical-align: top;word-wrap: break-word;border: 0;text-align: left;\">\n                    As advised on enrolment, the Student Handbook and Smart & Skilled Student Information documents can be located in the Smart & Skilled section of the College website at <a style=\"color: #0084b4;color: #0084b4 !important;background-color: #ffffff;text-decoration: none;border: 0;word-wrap: break-word;\" href=\"www.nbcc.nsw.edu.au\" target=\"_blank\">www.nbcc.nsw.edu.au</a>. These documents should be read, as they contain information about, the assessment process, recognition of prior learning, fees, consumer protection, deferral or discontinuance of training, access to support and contact details for various support services, your rights under the Smart & Skilled guidelines and College policies and procedures.\n                </p>\n                <p class=\"align-left\" style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 13px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 150%;margin-top: .2em;margin-right: 0;margin-bottom: 1em;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;vertical-align: top;word-wrap: break-word;border: 0;text-align: left;\">\n                    I do hope you will enjoy a positive learning experience at the College and I encourage you to talk to your trainer or to me if you have any concerns or feedback you would like to share, as you complete the course. <br />\n                </p>\n                <p class=\"align-left\" style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 13px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 150%;margin-top: .2em;margin-right: 0;margin-bottom: 1em;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;vertical-align: top;word-wrap: break-word;border: 0;text-align: left;\">\n                    Yours sincerely\n                </p>\n                <img src=\"https://ish-oncourse-beaches.s3.amazonaws.com/86ba6963-b29d-4bff-bc75-a5e868744bc1\" alt=\"\" width=\"150\"/>\n                <p class=\"align-left\" style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 13px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 150%;margin-top: .2em;margin-right: 0;margin-bottom: 1em;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;vertical-align: top;word-wrap: break-word;border: 0;text-align: left;\">\n                    Fran Butterworth <br />\n                    Executive Director\n                </p>\n            </div>\n        </td>\n    </tr>\n    </tbody>\n</table>\n<% } else { %>\n<table class=\"ish_block\" style=\"border: 0;border-collapse: collapse;mso-table-lspace: 0pt; mso-table-rspace: 0pt;clear: both;border: 0;min-width: 100%;\" width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" align=\"left\">\n    <tbody>\n    <tr>\n        <td class=\"ish_content_container center\" style=\"border: 0;border-collapse: collapse;background-color: #ffffff;border: 0;padding-top: 10px;padding-right: 17px;padding-bottom: 10px;padding-left: 17px;\" align=\"left\">\n            <div class=\"ish_text_container\">\n                <h2 style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 18px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;font-weight: normal;font-style: normal;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 125%;margin-top: 0;margin-right: 0;margin-bottom: 0;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;\">Enrolment Confirmation: ${enrolment.courseClass.course.name} (${enrolment.courseClass.course.code}-${enrolment.courseClass.code})\n                </h2>\n            </div>\n        </td>\n    </tr>\n    </tbody>\n</table>\n<table class=\"ish_block\" style=\"border: 0;border-collapse: collapse;mso-table-lspace: 0pt; mso-table-rspace: 0pt;clear: both;border: 0;min-width: 100%;\" width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" align=\"left\">\n    <tbody>\n        <tr>\n            <td class=\"ish_content_container left\" style=\"border: 0;border-collapse: collapse;background-color: #ffffff;border: 0;padding-top: 0;padding-right: 17px;padding-bottom: 10px;padding-left: 17px; vertical-align: top;\" align=\"left\" valign=\"top\">\n                <div class=\"ish_text_container\">\n                    <p class=\"align-left\" style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 13px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 150%;margin-top: .2em;margin-right: 0;margin-bottom: 1em;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;vertical-align: top;word-wrap: break-word;border: 0;text-align: left;\">\n                        Dear ${enrolment.student.contact.fullName}, <br />\n                        Thank you for enrolling at <a style=\"color: #0084b4;color: #0084b4 !important;background-color: #ffffff;text-decoration: none;border: 0;word-wrap: break-word;\" href=\"${Preferences.get(\"web.url\")}\" target=\"_blank\">${Preferences.get(\"college.name\")}</a>\n                    </p>\n                   <% if (enrolment.courseClass.course.modules.size() > 0) { %> \n                    <p class=\"align-left\" style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 13px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 150%;margin-top: .2em;margin-right: 0;margin-bottom: 1em;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;vertical-align: top;word-wrap: break-word;border: 0;text-align: left;\">\n                        You have enrolled in a Nationally Recognised Training course. We are required to collect some additional information from you as part of the enrolment process.\n                    </p>\n                    <p class=\"align-left\" style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 13px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 150%;margin-top: .2em;margin-right: 0;margin-bottom: 1em;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;vertical-align: top;word-wrap: break-word;border: 0;text-align: left;\">\n                        Please visit <a style=\"color: #0084b4;color: #0084b4 !important;background-color: #ffffff;text-decoration: none;border: 0;word-wrap: break-word;\" href=\"${Preferences.getPortalCensusUrl(enrolment.student)}\" target=\"_blank\">${Preferences.getPortalCensusUrl(enrolment.student)}</a> to complete these questions.\n                    </p>\n                     <p class=\"align-left\" style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 13px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 150%;margin-top: .2em;margin-right: 0;margin-bottom: 1em;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;vertical-align: top;word-wrap: break-word;border: 0;text-align: left;\">\n                        You are required to supply your Unique Student Identifier (USI) in order to be issued a Statement of Attainment or Qualification on the successful completion of your course.\n                    </p>\n                    <p class=\"align-left\" style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 13px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 150%;margin-top: .2em;margin-right: 0;margin-bottom: 1em;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;vertical-align: top;word-wrap: break-word;border: 0;text-align: left;\">\n                        If you do not have a USI you can apply for one via the link above.\n                    </p>\n                    <% } %>\n                    <p class=\"align-left\" style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 13px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 150%;margin-top: .2em;margin-right: 0;margin-bottom: 0;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;vertical-align: top;word-wrap: break-word;border: 0;text-align: left;\">\n                        Please visit <a style=\"color: #0084b4;color: #0084b4 !important;background-color: #ffffff;text-decoration: none;border: 0;word-wrap: break-word;\" href=\"${Preferences.get(\"web.url\")}/class/${enrolment.courseClass.course.code}-${enrolment.courseClass.code}\" target=\"_blank\">${Preferences.get(\"web.url\")}/class/${enrolment.courseClass.course.code}-${enrolment.courseClass.code}</a> to confirm the class details, directions and course requirements. <span style=\"color: #000000; color: #000000 !important; \">Enrolment reference: ${enrolment.invoiceLine.invoice.invoiceNumber}</span>\n                    </p>\n                </div>\n            </td>\n        </tr>\n    </tbody>\n</table>\n<table class=\"ish_block\" style=\"border: 0;border-collapse: collapse;mso-table-lspace: 0pt; mso-table-rspace: 0pt;clear: both;border: 0;min-width: 100%;\" width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" align=\"left\">\n    <tbody>\n        <tr>\n            <td class=\"ish_content_container center\" style=\"border: 0;border-collapse: collapse;background-color: #ffffff;border: 0;padding-top: 10px;padding-right: 17px;padding-bottom: 15px;padding-left: 17px;\" align=\"left\">\n                <h3 style=\"color:#464646 !important; background-color:#ffffff; display:block; font-family:Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif; font-size:12px; font-style:normal; font-weight:bold; line-height:125%; letter-spacing:normal; margin:0 0 10px; text-align:left; text-transform: uppercase;\">session details</h3>\n                <table border=\"0\" width=\"100%\" style=\"border:0; border-top: 1px solid #e9e9e9; border-bottom: 1px solid #e9e9e9\">\n                    <thead>\n                        <tr>\n                            <th class=\"ish_enrol_conf_header left\" style=\"border:0; border-collapse: collapse;background-color: #e9e9e9;border: 0;padding-top: 12px;padding-right: 20px;padding-bottom: 12px;padding-left: 20px; color: #464646 !important; font-weight: normal !important;\" align=\"left\" width=\"61%\">When</th>\n                            <th class=\"ish_enrol_conf_header left\" style=\"border:0; border-collapse: collapse;background-color: #e9e9e9;border: 0;padding-top: 12px;padding-right: 20px;padding-bottom: 12px;padding-left: 20px; color: #464646 !important; font-weight: normal !important;\" align=\"left\" width=\"61%\">Where</th>\n                        </tr>\n                    </thead>\n                    <tbody class=\"ish_enrol_conf_content\">\n                        <% enrolment.courseClass.sessions.sort{it.startDatetime}.each() { session -> %>\n                        <tr>\n                            <td class=\"ish_enrol_conf_row left\" style=\"border:0; border-collapse: collapse; background-color: #fff; border: 0;padding-top: 17px;padding-right: 20px;padding-bottom: 17px; padding-left: 20px; color: #000000  !important; font-weight: normal !important; font-size:13px !important; vertical-align: top; width: 63% !important;\" valign=\"top\" align=\"left\" width=\"63%\">${session.startDatetime.format(\"EEEE d MMMM yyyy h.mm a\")} - ${session.endDatetime.format(\"h.mm a\")}</td>\n                            <td class=\"ish_enrol_conf_row left\" style=\"border:0; border-collapse: collapse; background-color: #fff; border: 0;padding-top: 17px;padding-right: 20px;padding-bottom: 17px; padding-left: 20px; color: #000000  !important; font-weight: normal !important;  font-size:13px !important; vertical-align: top; width: 63% !important;\" valign=\"top\" align=\"left\" width=\"63%\">${session.room ? session.room.site.name + \", \" + session.room.name:\"\"}</td>\n                        </tr>\n                        <% if (session.publicNotes) { %>\n                        <tr class=\"with-notes\" style=\"border-top: 0 !important;\">\n                            <td colspan=\"2\" class=\"ish_enrol_conf_row left\" style=\"border-collapse: collapse; background-color: #fff; border: 0;  padding-top: 0;padding-right: 20px;padding-bottom: 12px; padding-left: 20px; color: #464646  !important; font-weight: normal !important; vertical-align: top; width: 100%;\" valign=\"top\" align=\"left\" width=\"100%\">\n                                <p class=\"align-left\" style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 13px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 16px !important; margin-top: 0;margin-right: 0;margin-bottom: 0;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;vertical-align: top;word-wrap: break-word;border: 0;text-align: left; position: relative; top: -5px;\">\n                                    <span class=\"ish_enrol_conf_notes_label\" style=\"color: #000000 !important;\">Notes:</span>\n                                    ${session.publicNotes}\n                                </p>\n                            </td>\n                        </tr>\n                        <% } %>\n                        <% } %>\n                    </tbody>\n                </table>\n            </td>\n        </tr>\n    </tbody>\n</table>\n<% } %>\n<table class=\"ish_block\" style=\"border: 0;border-collapse: collapse;mso-table-lspace: 0pt; mso-table-rspace: 0pt;clear: both;border: 0;min-width: 100%;\" width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" align=\"left\">\n    <tbody>\n        <tr style=\"font-size:1px; mso-line-height-alt:0; mso-margin-top-alt:1px;\">\n            <td width=\"100%\" valign=\"middle\" class=\"ish_divider_container\" style=\"height:1px;background-color: #ffffff;border: 0;padding-top: 15px;padding-right: 17px;padding-bottom: 0;padding-left: 17px;\" align=\"left\">\n                <div align=\"center\">\n                    <div style=\"width:564px; height:1px;text-decoration: none; display: block; background-color: #e3e3e3;\"></div>\n                </div>\n            </td>\n        </tr>\n    </tbody>\n</table>\n${render(\"Footer\")}",
      "enabled": true,
      "variables": [

      ],
      "options": [

      ],
      "createdOn": "2014-09-14T18:30:00.000Z",
      "modifiedOn": "2018-01-23T11:38:34.000Z",
      "description": null
    },
    {
      "id": 14,
      "type": "Email",
      "keyCode": "legacy.14",
      "name": "USI reminder email",
      "entity": "Enrolment",
      "subject": "Urgent: USI information required",
      "plainBody": "${render(\"Header\")}\n\nDear ${enrolment.student.contact.fullName},\n\nTo be issued any formal certification on the completion of ${enrolment.courseClass.course.name}, you must provide ${Preferences.get(\"college.name\")} with your Unique Student Identifier (USI).\n\nYou can apply for, and provide us with your USI by going to ${Preferences.getPortalCensusUrl(enrolment.student)} and following the instructions.\n\nPlease contact us if you can not complete this process and you would like assistance obtaining a USI.\n\n${render(\"Footer\")}",
      "body": "${render(\"Header\", [title: \"Urgent: USI information required\"])}\n<table class=\"ish_block\" style=\"border: 0;border-collapse: collapse;mso-table-lspace: 0pt; mso-table-rspace: 0pt;clear: both;border: 0;min-width: 100%;\" width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" align=\"left\">\n    <tbody>\n        <tr>\n            <td class=\"ish_content_container center\" style=\"border: 0;border-collapse: collapse;background-color: #ffffff;border: 0;padding-top: 10px;padding-right: 17px;padding-bottom: 10px;padding-left: 17px;\" align=\"left\">\n                <div class=\"ish_text_container\">\n                    <h2 style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 18px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;font-weight: normal;font-style: normal;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 125%;margin-top: 0;margin-right: 0;margin-bottom: 0;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;\">Urgent: USI information required\n                    </h2>\n                </div>\n            </td>\n        </tr>\n    </tbody>\n</table>\n<table class=\"ish_block\" style=\"border: 0;border-collapse: collapse;mso-table-lspace: 0pt; mso-table-rspace: 0pt;clear: both;border: 0;min-width: 100%;\" width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" align=\"left\">\n    <tbody>\n        <tr>\n            <td class=\"ish_content_container left\" style=\"border: 0;border-collapse: collapse;background-color: #ffffff;border: 0;padding-top: 0;padding-right: 17px;padding-bottom: 10px;padding-left: 17px; vertical-align: top;\" align=\"left\" valign=\"top\">\n                <div class=\"ish_text_container\">\n                    <p class=\"align-left\" style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 13px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 150%;margin-top: .2em;margin-right: 0;margin-bottom: 1em;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;vertical-align: top;word-wrap: break-word;border: 0;text-align: left;\">\n                        Dear ${enrolment.student.contact.fullName},\n                    </p>\n                    <p class=\"align-left\" style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 13px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 150%;margin-top: .2em;margin-right: 0;margin-bottom: 1em;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;vertical-align: top;word-wrap: break-word;border: 0;text-align: left;\">\n                        To be issued any formal certification on the completion of ${enrolment.courseClass.course.name}, you must provide ${Preferences.get(\"college.name\")} with your Unique Student Identifier (USI).\n                    </p>\n                    <p class=\"align-left\" style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 13px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 150%;margin-top: .2em;margin-right: 0;margin-bottom: 1em;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;vertical-align: top;word-wrap: break-word;border: 0;text-align: left;\">\n                        You can apply for, and provide us with your USI by going to  <a style=\"color: #0084b4;color: #0084b4 !important;background-color: #ffffff;text-decoration: none;border: 0;word-wrap: break-word;\" href=\"${Preferences.getPortalCensusUrl(enrolment.student)}\" target=\"_blank\">${Preferences.getPortalCensusUrl(enrolment.student)}</a> and following the instructions.\n                    </p>\n                     <p class=\"align-left\" style=\"font-family: Arial, &#39;Helvetica Neue&#39;, Helvetica, sans-serif;font-size: 13px;color: #464646;color: #464646 !important;background-color: #ffffff;border: 0;letter-spacing: normal;mso-line-height-rule: exactly;-mso-line-height-rule: exactly;line-height: 150%;margin-top: .2em;margin-right: 0;margin-bottom: 1em;margin-left: 0;padding-top: 0;padding-right: 0;padding-bottom: 0;padding-left: 0;vertical-align: top;word-wrap: break-word;border: 0;text-align: left;\">\n                        Please contact us if you can not complete this process and you would like assistance obtaining a USI.\n                    </p>\n                </div>\n            </td>\n        </tr>\n    </tbody>\n</table>\n${render(\"Footer\")}",
      "enabled": true,
      "variables": [

      ],
      "options": [

      ],
      "createdOn": "2014-09-14T18:30:00.000Z",
      "modifiedOn": "2015-04-27T09:47:08.000Z",
      "description": null
    },
  ];

  const rows = generateArraysOfRecords(20, [
    { name: "id", type: "number" },
    { name: "source", type: "string" },
    { name: "studentName", type: "string" },
    { name: "classCode", type: "string" },
    { name: "courseClassName", type: "string" },
    { name: "status", type: "string" },
    { name: "createdOn", type: "Datetime" }
  ]).map(l => ({
    id: l.id,
    values: [l.source, l.studentName, l.classCode, l.courseClassName, l.status, l.createdOn]
  }));

  return getEntityResponse({
    entity: "Enrolment",
    rows,
    columns: [
      {
        title: "Source",
        attribute: "source",
        sortable: true,
        width: 100
      },
      {
        title: "Name",
        attribute: "student.contact.fullName",
        sortable: true
      },
      {
        title: "Class",
        attribute: "courseClass.uniqueCode",
        sortable: true,
        width: 138
      },
      {
        title: "Course name",
        attribute: "courseClass.course.name",
        sortable: true
      },
      {
        title: "Status",
        attribute: "status",
        sortable: true,
        width: 100
      },
      {
        title: "Enrolled",
        attribute: "createdOn",
        sortable: true,
        type: "Datetime"
      }
    ],
    res: {
      sort: [
        {
          ascending: true,
          attribute: "source",
          complexAttribute: []
        }
      ]
    }
  });
}
