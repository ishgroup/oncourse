<?xml version="1.0" encoding="UTF-8" ?>

<schema name="oncourse" version="1.2">
	<types>
		<fieldType name="location" class="solr.PointType" dimension="2" subFieldType="double"/>
		<fieldType name="latLon" class="solr.LatLonType" subFieldSuffix="_latLon"/>
			
		<fieldType name="string" class="solr.StrField"
			sortMissingLast="true" omitNorms="true" />
		<fieldType name="boolean" class="solr.BoolField"
			sortMissingLast="true" omitNorms="true" />
		<fieldtype name="binary" class="solr.BinaryField" />

		<fieldType name="int" class="solr.TrieIntField"
			precisionStep="0" omitNorms="true" positionIncrementGap="0" />
		<fieldType name="float" class="solr.TrieFloatField"
			precisionStep="0" omitNorms="true" positionIncrementGap="0" />
		<fieldType name="long" class="solr.TrieLongField"
			precisionStep="0" omitNorms="true" positionIncrementGap="0" />
		<fieldType name="double" class="solr.TrieDoubleField"
			precisionStep="0" omitNorms="true" positionIncrementGap="0" />

		<fieldType name="date" class="solr.TrieDateField" omitNorms="true"
			precisionStep="0" positionIncrementGap="0" />

		<fieldType name="html" class="solr.TextField"
			positionIncrementGap="100">
			<analyzer type="index">
				<tokenizer class="solr.HTMLStripStandardTokenizerFactory" />
				<filter class="solr.StopFilterFactory" ignoreCase="true"
					words="stopwords.txt" enablePositionIncrements="true" />
				<filter class="solr.WordDelimiterFilterFactory"
					generateWordParts="1" generateNumberParts="1" catenateWords="1"
					catenateNumbers="1" catenateAll="0" splitOnCaseChange="1" />
				<filter class="solr.LowerCaseFilterFactory" />
				<filter class="solr.SnowballPorterFilterFactory" language="English"
					protected="protwords.txt" />
			</analyzer>
			<analyzer type="query">
				<tokenizer class="solr.WhitespaceTokenizerFactory" />
				<filter class="solr.SynonymFilterFactory" synonyms="synonyms.txt"
					ignoreCase="true" expand="true" />
				<filter class="solr.StopFilterFactory" ignoreCase="true"
					words="stopwords.txt" enablePositionIncrements="true" />
				<filter class="solr.WordDelimiterFilterFactory"
					generateWordParts="1" generateNumberParts="1" catenateWords="0"
					catenateNumbers="0" catenateAll="0" splitOnCaseChange="1" />
				<filter class="solr.LowerCaseFilterFactory" />
				<filter class="solr.SnowballPorterFilterFactory" language="English"
					protected="protwords.txt" />
			</analyzer>
		</fieldType>


		<fieldType name="text" class="solr.TextField"
			positionIncrementGap="100">
			<analyzer type="index">
				<tokenizer class="solr.WhitespaceTokenizerFactory" />
				<filter class="solr.StopFilterFactory" ignoreCase="true"
					words="stopwords.txt" enablePositionIncrements="true" />
				<filter class="solr.WordDelimiterFilterFactory"
					generateWordParts="1" generateNumberParts="1" catenateWords="1"
					catenateNumbers="1" catenateAll="0" splitOnCaseChange="1" />
				<filter class="solr.LowerCaseFilterFactory" />
				<filter class="solr.SnowballPorterFilterFactory" language="English"
					protected="protwords.txt" />
			</analyzer>
			<analyzer type="query">
				<tokenizer class="solr.WhitespaceTokenizerFactory" />
				<filter class="solr.SynonymFilterFactory" synonyms="synonyms.txt"
					ignoreCase="true" expand="true" />
				<filter class="solr.StopFilterFactory" ignoreCase="true"
					words="stopwords.txt" enablePositionIncrements="true" />
				<filter class="solr.WordDelimiterFilterFactory"
					generateWordParts="1" generateNumberParts="1" catenateWords="0"
					catenateNumbers="0" catenateAll="0" splitOnCaseChange="1" />
				<filter class="solr.LowerCaseFilterFactory" />
				<filter class="solr.SnowballPorterFilterFactory" language="English"
					protected="protwords.txt" />
			</analyzer>
		</fieldType>


		<!-- A general unstemmed text field - good if one does not know the language 
			of the field -->
		<fieldType name="textgen" class="solr.TextField"
			positionIncrementGap="100">
			<analyzer type="index">
				<tokenizer class="solr.WhitespaceTokenizerFactory" />
				<filter class="solr.StopFilterFactory" ignoreCase="true"
					words="stopwords.txt" enablePositionIncrements="true" />
				<filter class="solr.WordDelimiterFilterFactory"
					generateWordParts="1" generateNumberParts="1" catenateWords="1"
					catenateNumbers="1" catenateAll="0" splitOnCaseChange="0" />
				<filter class="solr.LowerCaseFilterFactory" />
			</analyzer>
			<analyzer type="query">
				<tokenizer class="solr.WhitespaceTokenizerFactory" />
				<filter class="solr.SynonymFilterFactory" synonyms="synonyms.txt"
					ignoreCase="true" expand="true" />
				<filter class="solr.StopFilterFactory" ignoreCase="true"
					words="stopwords.txt" enablePositionIncrements="true" />
				<filter class="solr.WordDelimiterFilterFactory"
					generateWordParts="1" generateNumberParts="1" catenateWords="0"
					catenateNumbers="0" catenateAll="0" splitOnCaseChange="0" />
				<filter class="solr.LowerCaseFilterFactory" />
			</analyzer>
		</fieldType>
	</types>


	<fields>
		<field name="id" type="string" indexed="true" stored="true" required="true"/>
		<field name="doctype" type="string" indexed="true" stored="true" required="true"/>
				
		<field name="collegeId" type="int" indexed="true" stored="true"/>
		
		<field name="course_name" type="textgen" indexed="true" stored="true"
			omitNorms="true" />
			
		<field name="course_detail" type="text" indexed="true" stored="true" />
		<field name="course_code" type="string" indexed="true" stored="true" />
		<field name="class_code" type="string" indexed="true" stored="true" multiValued="true"/>
		
		<field name="course_tutor" type="textgen" indexed="true" stored="true" multiValued="true"/>
		
		<field name="course_startDate" type="date" indexed="true" stored="true" multiValued="true"/>
		<field name="course_endDate" type="date" indexed="true" stored="true" multiValued="true"/>
		
		<field name="dayName" type="string" indexed="true" stored="true" multiValued="true"/>
		<field name="dayType" type="string" indexed="true" stored="true" multiValued="true"/>
		
		<field name="course_postcode" type="string" indexed="true" stored="true" multiValued="true"/>
		<field name="course_suburb" type="string" indexed="true" stored="true" multiValued="true"/>
		
		<field name="location_suburb" type="textgen" indexed="true" stored="true"/>
		<field name="location_state" type="textgen" indexed="true" stored="true" />
		<field name="location_postcode" type="textgen" indexed="true" stored="true"/>
		
	</fields>

	<uniqueKey>id</uniqueKey>
	<defaultSearchField>course_name</defaultSearchField>
	<solrQueryParser defaultOperator="OR" />

</schema>
